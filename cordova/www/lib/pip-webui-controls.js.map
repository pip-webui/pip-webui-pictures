{"version":3,"sources":["pip-webui-controls-html.js","controls.js","color_picker/color_picker.js","confirmation_dialog/confirmation_dialog.js","conversion_dialog/conversion_dialog.js","date/date.js","error_details_dialog/error_details_dialog.js","date_range/date_range.js","information_dialog/information_dialog.js","image_slider/image_slider.js","markdown/markdown.js","popover/popover.js","options_dialog/options_dialog.js","options_dialog/options_dialog_big.js","progress/routing_progress.js","tags/tag_list.js","refresh_button/refresh_button.js","time_view/time_view.js","time_edit/time_edit.js","toast/toasts.js","toggle_buttons/toggle_buttons.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pip-webui-controls.js","sourcesContent":["(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/color_picker.html',\n    '<ul class=\"pip-color-picker lp0 {{class}}\" pip-selected=\"currentColorIndex\" pip-enter-space-press=\"enterSpacePress($event)\">\\n' +\n    '    <li tabindex=\"-1\" ng-repeat=\"color in colors track by color\">\\n' +\n    '        <md-button  tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"selectColor($index)\" aria-label=\"color\" ng-disabled=\"disabled()\">\\n' +\n    '            <md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == currentColor ? \\'circle\\' : \\'radio-off\\' }}\">\\n' +\n    '            </md-icon>\\n' +\n    '        </md-button>\\n' +\n    '    </li>\\n' +\n    '</ul>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation_dialog/confirmation_dialog.html',\n    '<!--\\n' +\n    '@file Confirmation dialog template\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog\" layout=\"column\" width=\"400\" md-theme=\"{{::theme}}\">\\n' +\n    '    <div class=\"pip-header text-subhead1\">\\n' +\n    '        <h3 class=\"m0\">{{:: title | translate }}</h3>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button ng-click=\"onCancel()\">{{:: cancel | translate }}</md-button>\\n' +\n    '            <md-button class=\"md-accent\" ng-click=\"onOk()\">{{:: ok | translate }}</md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('conversion_dialog/conversion_dialog.html',\n    '<!--\\n' +\n    '@file Conversion dialog content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-conversion-dialog\" layout=\"column\" min-width=\"450\" md-theme=\"{{theme}}\">\\n' +\n    '    <md-dialog-content class=\"pip-body p0 pip-scroll\">\\n' +\n    '        <div class=\"pip-header\" ng-if=\"!withoutTitle || deleted\" ng-class=\"{\\'header-hint\\': withoutTitle && deleted}\">\\n' +\n    '            <h3 class=\"m0 text-title\" ng-hide=\"withoutTitle\">\\n' +\n    '                {{::title | translate}}\\n' +\n    '            </h3>\\n' +\n    '            <p class=\"tp8 pip-subtitle\" ng-hide=\"withoutTitle\">\\n' +\n    '                <span pip-translate-html=\"{{::subtitle | translate}}\"/>\\n' +\n    '            </p>\\n' +\n    '            <div ng-show=\"withoutTitle && deleted\" class=\"dialog-hint\" layout=\"row\" layout-align=\"start center\">\\n' +\n    '                <div class=\"w40\" flex-fixed><md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon></div>\\n' +\n    '                <div>{{::withoutTitle | translate}}</div>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-divider\"  ng-if=\"!withoutTitle\"></div>\\n' +\n    '        <div class=\"h8\"  ng-if=\"withoutTitle\"></div>\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '            <div class=\"pip-list md-primary\" md-no-ink=\"true\" ng-keydown=\"onKeyDown($event)\"\\n' +\n    '                            ng-keypress=\"onKeyPress($event)\" tabindex=\"0\">\\n' +\n    '                <div ng-repeat=\"option in options\" class=\"pip-list-item\" md-ink-ripple\\n' +\n    '                     ui-event=\"{ click: \\'onOptionSelect($event, option)\\' }\"\\n' +\n    '                     ng-class=\"{ selected: option.name == selectedOptionName,\\n' +\n    '                            \\'divider-bottom\\': $index < options.length - 1 }\">\\n' +\n    '\\n' +\n    '                        <div class=\"pip-content lp24-flex rp24-flex\" flex>\\n' +\n    '                            <div class=\"pip-title\" ng-if=\"option.title\">\\n' +\n    '                                {{::option.title | translate}}\\n' +\n    '                            </div>\\n' +\n    '                            <div class=\"pip-subtitle\" ng-if=\"option.subtitle\">\\n' +\n    '                                <span pip-translate-html=\"{{::option.subtitle | translate}}\"/>\\n' +\n    '                            </div>\\n' +\n    '                            <div class=\"pip-text\" ng-if=\"option.text\">\\n' +\n    '                                <span pip-translate-html=\"{{::option.text | translate}}\"/>\\n' +\n    '                            </div>\\n' +\n    '                        </div>\\n' +\n    '                </div>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"h8\"></div>\\n' +\n    '    </md-dialog-content>\\n' +\n    '</md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date/date.html',\n    '<!--\\n' +\n    '@file Date control content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<div class=\"pip-date\" tabindex=\"-1\" layout=\"row\" flex>\\n' +\n    '\t<md-input-container flex class=\"tm0\">\\n' +\n    '\t\t<md-select class=\"pip-date-day tm0\" ng-disabled=\"disableControls\"\\n' +\n    '\t\t\t\t   ng-model=\"day\" placeholder=\"{{dayLabel}}\" ng-change=\"onDayChanged()\" flex>\\n' +\n    '\t\t\t<md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt\">{{:: opt }}</md-option>\\n' +\n    '\t\t</md-select>\\n' +\n    '\t</md-input-container>\\n' +\n    '\t<div class=\"w16 flex-fixed\"></div>\\n' +\n    '\t<md-input-container flex class=\"tm0\">\\n' +\n    '\t\t<md-select class=\"pip-date-month tm0\" ng-disabled=\"disableControls\"\\n' +\n    '\t\t\t\t   ng-model=\"month\" placeholder=\"{{monthLabel}}\" ng-change=\"onMonthChanged()\" flex>\\n' +\n    '\t\t\t<md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">{{:: opt.name }}</md-option>\\n' +\n    '\t\t</md-select>\\n' +\n    '\t</md-input-container>\\n' +\n    '\t<div class=\"w16 flex-fixed\"></div>\\n' +\n    '\t<md-input-container flex class=\"tm0\">\\n' +\n    '\t\t<md-select class=\"pip-date-year tm0\" ng-disabled=\"disableControls\"\\n' +\n    '\t\t\t\t   ng-model=\"year\" placeholder=\"{{yearLabel}}\" ng-change=\"onYearChanged()\" flex>\\n' +\n    '\t\t\t<md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">{{:: opt }}</md-option>\\n' +\n    '\t\t</md-select>\\n' +\n    '\t</md-input-container>\\n' +\n    '</div>\\n' +\n    '\t\t\t\t\t');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range/date_range.html',\n    '<!--\\n' +\n    '@file Date range control content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<div class=\"pip-date-range\" tabindex=\"-1\" layout=\"row\" flex>\\n' +\n    '    <md-input-container flex ng-show=\"isDay()\" class=\"tm0 pip-day\"\\n' +\n    '            ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-day w-stretch\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   md-on-open=\"onDayClick()\"\\n' +\n    '                   ng-model=\"day\"\\n' +\n    '                   ng-change=\"onDayChanged()\"\\n' +\n    '                   placeholder=\"{{dayLabel}}\"\\n' +\n    '                   aria-label=\"DAY\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt \">\\n' +\n    '               {{nameDays[$index]}} {{ opt }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '    <md-input-container flex ng-show=\"isWeek()\" class=\"tm0\"\\n' +\n    '                        ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-week w-stretch\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   ng-model=\"week\"\\n' +\n    '                   ng-change=\"onWeekChange()\"\\n' +\n    '                   placeholder=\"{{weekLabel}}\"\\n' +\n    '                   aria-label=\"WEEK\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt.id\" ng-repeat=\"opt in weeks track by opt.id\">\\n' +\n    '                {{ opt.name }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container >\\n' +\n    '    <div class=\"flex-fixed\"\\n' +\n    '         ng-class=\"{\\'w16\\': $mdMedia(\\'gt-xs\\'), \\'w8\\':  $mdMedia(\\'xs\\')}\"\\n' +\n    '         ng-show=\"isDay() || isWeek()\">\\n' +\n    '    </div>\\n' +\n    '    <md-input-container flex ng-show=\"isMonth() && !monthFormatShort \" class=\"tm0 min-w72\"\\n' +\n    '                        ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-month w-stretch\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   md-on-open=\"onMonthClick()\"\\n' +\n    '                   ng-model=\"month\"\\n' +\n    '                   ng-change=\"onMonthChanged()\"\\n' +\n    '                   placeholder=\"{{monthLabel}}\"\\n' +\n    '                   aria-label=\"MONTH\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">\\n' +\n    '                {{ opt.name }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '    <md-input-container flex ng-show=\"isMonth() && monthFormatShort\" class=\"tm0\"\\n' +\n    '                        ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-month w-stretch\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   md-on-open=\"onMonthClick()\"\\n' +\n    '                   ng-model=\"month\"\\n' +\n    '                   ng-change=\"onMonthChanged()\"\\n' +\n    '                   placeholder=\"{{monthLabel}}\"\\n' +\n    '                   aria-label=\"MONTH\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt.id\" ng-repeat=\"opt in shortMonths track by opt.id\">\\n' +\n    '                {{ opt.name }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '    <div class=\"flex-fixed\"\\n' +\n    '         ng-class=\"{\\'w16\\': $mdMedia(\\'gt-xs\\'), \\'w8\\':  $mdMedia(\\'xs\\')}\"\\n' +\n    '         ng-show=\"isMonth()\">\\n' +\n    '    </div>\\n' +\n    '    <md-input-container flex class=\"tm0\"\\n' +\n    '                        ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-year w-stretch\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   md-on-open=\"onYearClick()\"\\n' +\n    '                   ng-model=\"year\"\\n' +\n    '                   ng-change=\"onYearChanged()\"\\n' +\n    '                   placeholder=\"{{yearLabel}}\"\\n' +\n    '                   aria-label=\"YEAR\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">\\n' +\n    '                {{ opt }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details_dialog/error_details_dialog.html',\n    '<!--\\n' +\n    '@file Confirmation dialog template\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-details-dialog\" layout=\"column\" width=\"400\" md-theme=\"{{theme}}\">\\n' +\n    '    <div class=\"pip-body\">\\n' +\n    '\\n' +\n    '        <div class=\"pip-header p0 bp8  text-subhead1\">{{::\\'ERROR_DETAILS\\' | translate}}</div>\\n' +\n    '        <div layout=\"row\" layout-align=\"start center\" class=\"h48 text-body2 color-secondary-text\" ng-if=\"error.code || (error.data && error.data.code)\">\\n' +\n    '            {{::\\'CODE\\' | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div layout=\"row\" layout-align=\"start center\" ng-if=\"error.code || (error.data && error.data.code)\">\\n' +\n    '            {{error.code || error.data.code}}\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div layout=\"row\" layout-align=\"start center\" class=\"h48 text-body2 color-secondary-text\" ng-if=\"error.path || (error.data && error.data.path)\">\\n' +\n    '            {{::\\'PATH\\' | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div layout=\"row\" layout-align=\"start center\" ng-if=\"error.path || (error.data && error.data.path)\">\\n' +\n    '            {{error.path || error.data.path}}\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div layout=\"row\" layout-align=\"start center\" class=\"h48 text-body2 color-secondary-text\" ng-if=\"error.error || (error.data && error.data.error)\">\\n' +\n    '            {{::\\'ERROR\\' | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div layout=\"row\" layout-align=\"start center\" ng-if=\"error.error || (error.data && error.data.error)\">\\n' +\n    '            {{error.error || error.data.error}}\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div layout=\"row\" layout-align=\"start center\" class=\"h48 text-body2 color-secondary-text\" ng-if=\"error.method || (error.data && error.data.method)\">\\n' +\n    '            {{::\\'METHOD\\' | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div layout=\"row\" layout-align=\"start center\" ng-if=\"error.method || (error.data && error.data.method)\">\\n' +\n    '            {{error.method || error.data.method}}\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div layout=\"row\" layout-align=\"start center\" class=\"h48 text-body2 color-secondary-text\" ng-if=\"error.message || (error.data && error.data.message)\">\\n' +\n    '            {{::\\'MESSAGE\\' | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div layout=\"row\" layout-align=\"start center\" ng-if=\"error.message || (error.data && error.data.message)\">\\n' +\n    '            {{error.message || error.data.message}}\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-footer rp16\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"md-accent m0\" ng-click=\"onOk()\">{{::\\'DISMISS\\' | translate }}</md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information_dialog/information_dialog.html',\n    '<!--\\n' +\n    '@file Information dialog content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-information-dialog\" layout=\"column\" width=\"400\" md-theme=\"{{theme}}\">\\n' +\n    '    <div class=\"pip-header\">\\n' +\n    '        <h3 class=\"m0\">{{ title | translate }}</h3>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-body\">\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '            {{ content }}\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"md-accent\" ng-click=\"onOk()\">{{ ok | translate }}</md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.template.html',\n    '<div ng-if=\"params.templateUrl\" class=\\'pip-popover flex layout-column\\'\\n' +\n    '     ng-click=\"onPopoverClick($event)\" ng-include=\"params.templateUrl\">\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<div ng-if=\"params.template\" class=\\'pip-popover\\' ng-click=\"onPopoverClick($event)\">\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options_dialog/options_dialog.html',\n    '<!--\\n' +\n    '@file Options dialog content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-options-dialog\" layout=\"column\" min-width=\"400\" md-theme=\"{{theme}}\">\\n' +\n    '    <md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\">\\n' +\n    '        <div class=\"pip-header\" >\\n' +\n    '            <h3 class=\"m0 bm16 text-title\">{{::title | translate}}</h3>\\n' +\n    '            <div ng-show=\"deletedTitle\" class=\"bp16 tp8 text-subhead1 divider-bottom\">\\n' +\n    '                <md-checkbox ng-model=\"deleted\" aria-label=\"CHECKBOX\" class=\"m0\">{{::deletedTitle | translate}}</md-checkbox>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '            <md-radio-group ng-model=\"selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\"\\n' +\n    '                            ng-keypress=\"onKeyPress($event)\" tabindex=\"0\">\\n' +\n    '                <div ng-repeat=\"option in options\" class=\"pip-list-item p0\" md-ink-ripple\\n' +\n    '                     ui-event=\"{ click: \\'onOptionSelect($event, option)\\' }\"\\n' +\n    '                     ng-class=\"{ selected: option.name == selectedOptionName }\">\\n' +\n    '                    <div class=\"pip-list-item\">\\n' +\n    '                        <md-icon class=\"pip-option-icon rm12\" md-svg-icon=\"icons:{{option.icon}}\" ng-if=\"option.icon\">\\n' +\n    '                        </md-icon>\\n' +\n    '                        <div class=\"pip-option-title\">\\n' +\n    '                            {{::option.title | translate}}\\n' +\n    '                        </div>\\n' +\n    '                        <md-radio-button ng-value=\"option.name\" tabindex=\"-1\"\\n' +\n    '                                         aria-label=\"{{::option.title | translate}}\">\\n' +\n    '                        </md-radio-button>\\n' +\n    '                    </div>\\n' +\n    '\\n' +\n    '                </div>\\n' +\n    '            </md-radio-group>\\n' +\n    '        </div>\\n' +\n    '    </md-dialog-content>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"pip-cancel\" ng-click=\"onCancel()\">{{::\\'CANCEL\\' | translate}}</md-button>\\n' +\n    '            <md-button class=\"pip-submit md-accent\" ng-click=\"onSelect()\">{{::applyButtonTitle | translate}}</md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options_dialog/options_dialog_big.html',\n    '<!--\\n' +\n    '@file Options dialog content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big\" layout=\"column\" min-width=\"400\" md-theme=\"{{theme}}\">\\n' +\n    '    <md-dialog-content class=\"pip-body p0 pip-scroll\" ng-class=\"{\\'bp24\\': !noActions}\">\\n' +\n    '        <div class=\"pip-header\" ng-class=\"{\\'header-hint\\': noTitle && hint}\">\\n' +\n    '            <h3 class=\"m0 text-title\"  ng-if=\"!noTitle\">\\n' +\n    '                {{::title | translate}}\\n' +\n    '            </h3>\\n' +\n    '            <div ng-show=\"noTitle && hint\" class=\"dialog-hint\" layout=\"row\" layout-align=\"start center\">\\n' +\n    '                <div class=\"w40\" flex-fixed><md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon></div>\\n' +\n    '                <div>{{::hint | translate}}</div>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-divider\"  ng-if=\"!noTitle\"></div>\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '            <div class=\"h8\" ng-if=\"noTitle && hint\"></div>\\n' +\n    '            <md-list class=\"pip-menu  pip-ref-list w-stretch\"\\n' +\n    '                     pip-selected=\"optionIndex\" index=\"{{optionIndex }}\"\\n' +\n    '                     pip-select=\"onSelected($event)\">\\n' +\n    '\\n' +\n    '                <md-list-item class=\"pip-ref-list-item pip-selectable\"\\n' +\n    '                              ng-class=\"{\\'selected\\' : option.name == selectedOptionName,\\n' +\n    '                              \\'divider-bottom\\': $index != options.length - 1}\"\\n' +\n    '                              layout=\"row\" layout-align=\"start center\" md-ink-ripple\\n' +\n    '                              xxxxng-keypress=\"onKeyPress($event)\"\\n' +\n    '                              ng-keyup=\"onKeyUp($event, $index)\"\\n' +\n    '                              ng-repeat=\"option in options\" ng-click=\"onOptionSelect($event, option)\">\\n' +\n    '\\n' +\n    '                    <div class=\"pip-content  line-height-string  max-w100-stretch\">\\n' +\n    '                        <p class=\"pip-title  rp24-flex\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">\\n' +\n    '                            {{::option.title | translate}}\\n' +\n    '                        </p>\\n' +\n    '                        <div class=\"pip-subtitle  rp24-flex\"\\n' +\n    '                             style=\"height: inherit\"\\n' +\n    '                             ng-if=\"option.subtitle\">\\n' +\n    '                            {{::option.subtitle | translate}}\\n' +\n    '                        </div>\\n' +\n    '                        <div class=\"pip-subtitle  rp24-flex\"\\n' +\n    '                             style=\"height: inherit\" ng-if=\"option.text\"\\n' +\n    '                             pip-translate-html=\"{{::option.text | translate}}\">\\n' +\n    '                        </div>\\n' +\n    '                    </div>\\n' +\n    '\\n' +\n    '                </md-list-item>\\n' +\n    '\\n' +\n    '            </md-list>\\n' +\n    '            <!--\\n' +\n    '            <md-radio-group ng-model=\"selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\"\\n' +\n    '                            ng-keypress=\"onKeyPress($event)\" tabindex=\"0\">\\n' +\n    '                <div ng-repeat=\"option in options\" class=\"pip-list-item p0\" md-ink-ripple\\n' +\n    '                     ui-event=\"{ click: \\'onOptionSelect($event, option)\\' }\"\\n' +\n    '                     ng-class=\"{ selected: option.name == selectedOptionName }\">\\n' +\n    '                    <div class=\"pip-list-item\">\\n' +\n    '\\n' +\n    '                        <div class=\"pip-content lp24-flex rp24-flex\" flex>\\n' +\n    '                            <div class=\"pip-title\" ng-if=\"option.title\">\\n' +\n    '                                {{::option.title | translate}}\\n' +\n    '                            </div>\\n' +\n    '                            <div class=\"pip-subtitle\" ng-if=\"option.subtitle\">\\n' +\n    '                                {{::option.subtitle | translate}}\\n' +\n    '                            </div>\\n' +\n    '                            <div class=\"pip-text\" ng-if=\"option.text\">\\n' +\n    '\\n' +\n    '                                <span pip-translate-html=\"{{::option.text | translate}}\"/>\\n' +\n    '                            </div>\\n' +\n    '                        </div>\\n' +\n    '\\n' +\n    '                        <md-radio-button ng-value=\"option.name\" tabindex=\"-1\" class=\"rm24-flex\"\\n' +\n    '                                         aria-label=\"{{::option.title | translate}}\">\\n' +\n    '                        </md-radio-button>\\n' +\n    '                    </div>\\n' +\n    '\\n' +\n    '                </div>\\n' +\n    '            </md-radio-group> -->\\n' +\n    '        </div>\\n' +\n    '        <div class=\"h8\" ng-if=\"noActions\"></div>\\n' +\n    '    </md-dialog-content>\\n' +\n    '\\n' +\n    '    <div class=\"pip-footer\" ng-if=\"!noActions\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"pip-cancel\" ng-click=\"onCancel()\">{{::\\'CANCEL\\' | translate}}</md-button>\\n' +\n    '            <md-button class=\"pip-submit md-accent\" ng-click=\"onSelect()\" style=\"margin-right: -6px\">\\n' +\n    '                {{::applyButtonTitle | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routing_progress.html',\n    '<div class=\"pip-routing-progress\" layout=\"column\" layout-align=\"center center\" ng-show=\"$routing || $reset\">\\n' +\n    '    <div class=\"loader\">\\n' +\n    '        <svg class=\"circular\" viewBox=\"25 25 50 50\">\\n' +\n    '            <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"/>\\n' +\n    '        </svg>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '    <img src=\"images/Logo_animation.svg\"  height=\"40\" width=\"40\" class=\"pip-img\">\\n' +\n    '\\n' +\n    '    <md-progress-circular md-diameter=\"96\"\\n' +\n    '                          class=\"fix-ie\"></md-progress-circular>\\n' +\n    '\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tags/tag_list.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + pipType + \\'-chips\\'}}\"\\n' +\n    '     ng-if=\"pipType && !pipTypeLocal\">\\n' +\n    '\\n' +\n    '    <span>{{pipType.toUpperCase() | translate | uppercase}}</span>\\n' +\n    '</div>\\n' +\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + pipType + \\'-chips\\'}}\"\\n' +\n    '     ng-if=\"pipType && pipTypeLocal\">\\n' +\n    '\\n' +\n    '    <span>{{pipTypeLocal.toUpperCase() | translate | uppercase}}</span>\\n' +\n    '</div>\\n' +\n    '<div class=\"pip-chip rm4\" ng-repeat=\"tag in pipTags\">\\n' +\n    '    <span>{{::tag}}</span>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_edit/time_edit.html',\n    '<!--\\n' +\n    '@file Time edit control content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<div layout=\"row\" class=\"event-edit\" layout-xs=\"column\" flex layout-align=\"start start\">\\n' +\n    '    <div flex=\"47\" class=\"w-stretch rm24-flex0\">\\n' +\n    '        <p class=\"text-caption text-grey tm0\">{{startLabel}}</p>\\n' +\n    '\\n' +\n    '        <div layout=\"row\" layout-align=\"space-between center\">\\n' +\n    '            <div class=\"rm16 pip-datepicker-container\" flex=\"49\">\\n' +\n    '                <md-datepicker ng-model=\"data.startDate\"\\n' +\n    '                               xmd-placeholder=\"{{startLabel}}\"\\n' +\n    '                               ng-change=\"onChangeStartDate()\"\\n' +\n    '                               ng-disabled=\"isDisabled()\"\\n' +\n    '                               aria-label=\"START-DATE\">\\n' +\n    '                </md-datepicker>\\n' +\n    '            </div>\\n' +\n    '            <div flex>\\n' +\n    '                <md-input-container class=\"w-stretch tm0\">\\n' +\n    '                    <md-select aria-label=\"START-TIME\" class=\"tm0 bm0\" ng-model=\"data.startTime\" ng-disabled=\"isDisabled()\"\\n' +\n    '                               ng-change=\"onChangeStartTime()\">\\n' +\n    '                        <md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{ opt.time }}\\n' +\n    '                        </md-option>\\n' +\n    '                    </md-select>\\n' +\n    '                </md-input-container>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div flex=\"47\" class=\"w-stretch\">\\n' +\n    '        <p class=\"text-caption text-grey tm0\">{{endLabel}}</p>\\n' +\n    '\\n' +\n    '        <div layout=\"row\" layout-align=\"space-between center\">\\n' +\n    '            <div class=\"rm16 pip-datepicker-container\" flex=\"49\">\\n' +\n    '                <md-datepicker ng-model=\"data.endDate\"\\n' +\n    '                               xmd-placeholder=\"{{endLabel}}\"\\n' +\n    '                               ng-disabled=\"isDisabled()\"\\n' +\n    '                               ng-change=\"onChangeEndDate()\"\\n' +\n    '                               aria-label=\"END-DATE\">\\n' +\n    '                </md-datepicker>\\n' +\n    '            </div>\\n' +\n    '            <div flex>\\n' +\n    '                <md-input-container class=\"w-stretch tm0\">\\n' +\n    '                    <md-select aria-label=\"END-TIME\" class=\"tm0 bm0\" ng-model=\"data.endTime\" ng-change=\"onChangeEndTime()\"\\n' +\n    '                               ng-disabled=\"isDisabled()\">\\n' +\n    '                        <md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{\\n' +\n    '                            opt.time }}\\n' +\n    '                        </md-option>\\n' +\n    '                    </md-select>\\n' +\n    '                </md-input-container>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\"\\n' +\n    '          ng-class=\"{\\'pip-error\\': toast.type==\\'error\\',\\n' +\n    '          \\'pip-column-toast\\': toast.type == \\'error\\' || toast.actions.length > 1 || actionLenght > 4,\\n' +\n    '          \\'pip-no-action-toast\\': actionLenght == 0}\"\\n' +\n    '          style=\"height:initial; max-height: initial; \">\\n' +\n    '\\n' +\n    '    <span class=\"flex-var m0 pip-text\" ng-bind-html=\"message\"></span>\\n' +\n    '    <div layout=\"row\" layout-align=\"end start\" class=\"pip-actions\" ng-if=\"actions.length > 0 || (toast.type==\\'error\\' && toast.error)\">\\n' +\n    '        <md-button class=\"flex-fixed m0 lm8\" ng-if=\"toast.type==\\'error\\' && toast.error\" ng-click=\"onDetails()\">Details</md-button>\\n' +\n    '        <md-button class=\"flex-fixed m0 lm8\"\\n' +\n    '                   ng-click=\"onAction(action)\"\\n' +\n    '                   ng-repeat=\"action in actions\"\\n' +\n    '                   aria-label=\"{{::action| translate}}\">\\n' +\n    '            {{::action| translate}}\\n' +\n    '        </md-button>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '</md-toast>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_view/time_view.html',\n    '<p>\\n' +\n    '    <span ng-if=\"data.start != null\">{{data.start | formatShortDateTime}}</span>\\n' +\n    '    <span  class=\"rm4 lm4\" ng-if=\"data.start && data.end\"> - </span>\\n' +\n    '    <span ng-if=\"data.end != null\">{{data.end | formatShortDateTime}}</span>\\n' +\n    '</p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipBasicControls.Templates');\n} catch (e) {\n  module = angular.module('pipBasicControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/toggle_buttons.html',\n    '<div class=\"pip-toggle-buttons flex layout-row {{class}}\" pip-selected=\"bufButtonIndex\" pip-enter-space-press=\"enterSpacePress($event)\"\\n' +\n    '     ng-if=\"$mdMedia(\\'gt-xs\\')\">\\n' +\n    '    <md-button tabindex=\"-1\" ng-repeat=\"button in buttons\"\\n' +\n    '               ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : currentButtonIndex == $index}\"\\n' +\n    '               ng-attr-style=\"{{ \\'background-color:\\' + (currentButtonIndex == $index ? button.backgroundColor : \\'\\') + \\'!important\\' }}\"\\n' +\n    '               class=\"pip-selectable pip-chip-button flex\" ng-click=\"buttonSelected($index, $event)\"\\n' +\n    '               ng-disabled=\"button.disabled || disabled()\">\\n' +\n    '        {{button.name || button.title | translate}}\\n' +\n    '        <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span>\\n' +\n    '    </md-button>\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<md-input-container class=\"md-block\" ng-if=\"$mdMedia(\\'xs\\')\">\\n' +\n    '    <md-select ng-model=\"currentButtonIndex\" ng-disabled=\"disabled()\" aria-label=\"DROPDOWN\" md-on-close=\"buttonSelected(currentButtonIndex)\">\\n' +\n    '        <md-option ng-repeat=\"action in buttons\" value=\"{{ ::$index }}\">\\n' +\n    '            {{ (action.title || action.name) | translate }}\\n' +\n    '            <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span>\\n' +\n    '        </md-option>\\n' +\n    '    </md-select>\\n' +\n    '</md-input-container>\\n' +\n    '');\n}]);\n})();\n","/**\r\n * @file Registration of basic WebUI controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipControls', [        \r\n        'pipMarkdown',\r\n        'pipToggleButtons',\r\n        'pipRefreshButton',\r\n        'pipColorPicker',\r\n        'pipRoutingProgress',\r\n        'pipPopover',\r\n        'pipImageSlider',\r\n        'pipToasts',\r\n        \"pipTagList\",\r\n\r\n        'pipDate',\r\n        'pipDateRange',\r\n        'pipTimeEdit',\r\n        'pipTimeView',\r\n\r\n        'pipInformationDialog',\r\n        'pipConfirmationDialog',\r\n        'pipOptionsDialog',\r\n        'pipOptionsBigDialog',\r\n        'pipConversionDialog',\r\n        'pipErrorDetailsDialog'\r\n    ]);\r\n\r\n    angular.module('pipBasicControls', [ 'pipControls' ]);\r\n    \r\n})();\r\n\r\n\r\n","/**\r\n * @file Color picker control\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipColorPicker\", ['pipUtils', 'pipFocused', 'pipBasicControls.Templates']);\r\n\r\n    thisModule.directive('pipColorPicker',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    colors: '=pipColors',\r\n                    currentColor: '=ngModel',\r\n                    colorChange: '&ngChange'\r\n                },\r\n                templateUrl: 'color_picker/color_picker.html',\r\n                controller: 'pipColorPickerController'\r\n            };\r\n        }\r\n    );\r\n    thisModule.controller('pipColorPickerController',\r\n        ['$scope', '$element', '$attrs', '$timeout', function ($scope, $element, $attrs, $timeout) {\r\n            var\r\n                DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n\r\n            $scope.class = $attrs.class || '';\r\n\r\n            if (!$scope.colors || (_.isArray($scope.colors) && $scope.colors.length === 0)) {\r\n                $scope.colors = DEFAULT_COLORS;\r\n            }\r\n\r\n            $scope.currentColor = $scope.currentColor || $scope.colors[0];\r\n            $scope.currentColorIndex = $scope.colors.indexOf($scope.currentColor);\r\n\r\n            $scope.disabled = function () {\r\n                if ($scope.ngDisabled) {\r\n                    return $scope.ngDisabled();\r\n                } else {\r\n                    return true;\r\n                }\r\n            };\r\n\r\n            $scope.selectColor = function (index) {\r\n                if ($scope.disabled()) return;\r\n                $scope.currentColorIndex = index;\r\n\r\n                $scope.currentColor = $scope.colors[$scope.currentColorIndex];\r\n\r\n                $timeout(function() {\r\n                    $scope.$apply();\r\n                });\r\n\r\n                if ($scope.colorChange) {\r\n                    $scope.colorChange();\r\n                }\r\n            }\r\n\r\n            $scope.enterSpacePress = function (event) {\r\n                $scope.selectColor(event.index);\r\n            };\r\n    }])\r\n\r\n})();","/**\r\n * @file Confirmation dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n */\r\n \r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipConfirmationDialog', \r\n        ['ngMaterial', 'pipUtils', 'pipTranslate', 'pipBasicControls.Templates']);\r\n\r\n    thisModule.config(['pipTranslateProvider', function(pipTranslateProvider) {\r\n        pipTranslateProvider.translations('en', {\r\n            'CONFIRM_TITLE': 'Confirm'\r\n        });\r\n        pipTranslateProvider.translations('ru', {\r\n            'CONFIRM_TITLE': 'Подтвердите'\r\n        });\r\n    }]);\r\n\r\n    thisModule.factory('pipConfirmationDialog', \r\n        ['$mdDialog', function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'confirmation_dialog/confirmation_dialog.html',\r\n                        controller: 'pipConfirmationDialogController',\r\n                        locals: { params: params },\r\n                        clickOutsideToClose: true\r\n                    })\r\n                    .then(function () {\r\n                        if (successCallback) {\r\n                            successCallback();\r\n                        }\r\n                    }, function () {\r\n                        if (cancelCallback) {\r\n                            cancelCallback();\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n        }]\r\n    );\r\n\r\n    thisModule.controller('pipConfirmationDialogController',\r\n        ['$scope', '$rootScope', '$mdDialog', 'pipTranslate', 'params', function ($scope, $rootScope, $mdDialog, pipTranslate, params) {\r\n            $scope.theme = $rootScope.$theme;\r\n            $scope.title = params.title || 'CONFIRM_TITLE';\r\n\r\n            $scope.ok = params.ok || 'OK';\r\n            $scope.cancel = params.cancel || 'CANCEL';\r\n\r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n\r\n            $scope.onOk = function () {\r\n                $mdDialog.hide();\r\n            };\r\n        }]\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Convert parent dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global $, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n        \r\n    var thisModule = angular.module('pipConversionDialog',\r\n        ['ngMaterial', 'pipUtils', 'pipTranslate', 'pipBasicControls.Templates']);\r\n\r\n    thisModule.config(['pipTranslateProvider', function(pipTranslateProvider) {\r\n        pipTranslateProvider.translations('en', {\r\n            'CONVERT_PARENT_TITLE': 'Choose type of the parent record',\r\n            'CONVERT_PARENT_SUBTITLE': 'The <b>%s</b> is missing and will be created from scratch. Find and clarify it later',\r\n\r\n            'CONVERT_TO_GOAL_SUBTITLE': 'Result that requires significant efforts',\r\n            'CONVERT_TO_TASK_SUBTITLE': 'Simple work that doesn\\'t need a plan',\r\n            'CONVERT_TO_AREA_SUBTITLE': 'Area of interests or actions of any kind',\r\n            'CONVERT_TO_VISION_SUBTITLE': 'Situation in specific time period',\r\n            'CONVERT_TO_CANCEL': 'Do not create a parent record',\r\n            'CONVERT_TO_CANCEL_SUBTITLE': 'The <b>%s</b> is deleted',\r\n\r\n            'CONVERT_RECORD_TO_GOAL': 'Result that requires significant efforts',\r\n            'CONVERT_RECORD_TO_TASK': 'Simple work that doesn\\'t need a plan',\r\n            'CONVERT_RECORD_TO_EVENT': 'Reminder or scheduled block of time',\r\n            'CONVERT_RECORD_TO_POST': 'Any useful information'\r\n        });\r\n        pipTranslateProvider.translations('ru', {\r\n            'CONVERT_PARENT_TITLE': 'Определите тип родительской записи',\r\n            'CONVERT_PARENT_SUBTITLE': 'Запись <b>%s</b> отсутствует и будет создана с нуля. Найдите и скорректируйте ее позже',\r\n\r\n            'CONVERT_TO_GOAL_SUBTITLE': 'Результат требующий значительных усилий',\r\n            'CONVERT_TO_TASK_SUBTITLE': 'Простая работа, для которой не нужен план',\r\n            'CONVERT_TO_AREA_SUBTITLE': 'Область интересов или какой-либо активности',\r\n            'CONVERT_TO_VISION_SUBTITLE': 'Ситуация в определенный промежуток времени',\r\n            'CONVERT_TO_CANCEL': 'Не создавать родительскую запись',\r\n            'CONVERT_TO_CANCEL_SUBTITLE': '<b>%s</b> будет удалена',\r\n\r\n            'CONVERT_RECORD_TO_GOAL': 'Результат требующий значительных усилий',\r\n            'CONVERT_RECORD_TO_TASK': 'Простая работа, для которой не нужен план',\r\n            'CONVERT_RECORD_TO_EVENT': 'Напоминание или блок времени в расписании',\r\n            'CONVERT_RECORD_TO_POST': 'Любая полезная информация'\r\n        });\r\n    }]);\r\n\r\n    thisModule.factory('pipConversionDialog',\r\n        ['$mdDialog', function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    if (params.event) {\r\n                        params.event.stopPropagation();\r\n                        params.event.preventDefault();\r\n                    }\r\n                    if (!params.options || params.options.length == 0) return;\r\n\r\n                    function focusToggleControl() {\r\n                        if (params.event && params.event.currentTarget)\r\n                            params.event.currentTarget.focus();\r\n                    }\r\n\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'conversion_dialog/conversion_dialog.html',\r\n                        controller: 'pipConversionDialogController',\r\n                        locals: { params: params },\r\n                        clickOutsideToClose: true\r\n                    })\r\n                        .then(function (option) {\r\n                            focusToggleControl();\r\n\r\n                            if (successCallback) successCallback(option);\r\n                        }, function () {\r\n                            focusToggleControl();\r\n                            if (cancelCallback) cancelCallback();\r\n                        });\r\n                }\r\n            };\r\n        }]\r\n    );\r\n\r\n    thisModule.controller('pipConversionDialogController',\r\n        ['$scope', '$rootScope', '$mdDialog', 'params', 'pipUtils', 'pipTranslate', function ($scope, $rootScope, $mdDialog, params, pipUtils, pipTranslate) {\r\n\r\n            $scope.theme = $rootScope.$theme;\r\n            $scope.title = params.title || 'CONVERT_PARENT_TITLE';\r\n            $scope.recordName = params.recordName || '';\r\n            $scope.subtitle = params.subtitle || pipUtils.sprintf(pipTranslate.translate('CONVERT_PARENT_SUBTITLE'), $scope.recordName);\r\n            $scope.withoutTitle = params.deleteTitle ? params.deleteTitle : false;\r\n            $scope.deleted = !!params.deleted;\r\n            $scope.options = _.cloneDeep(params.options);\r\n            $scope.selectedIndex  = -1;\r\n            $scope.cancelConverting = $scope.recordName ? true : false;\r\n            $scope.selectedOptionName = '';\r\n\r\n            if ($scope.cancelConverting) $scope.options.push({\r\n                name: 'cancel',\r\n                title: 'CONVERT_TO_CANCEL',\r\n                subtitle: pipUtils.sprintf(pipTranslate.translate('CONVERT_TO_CANCEL_SUBTITLE'), $scope.recordName)\r\n            });\r\n\r\n            $scope.onOptionSelect = function (event, option) {\r\n                event.stopPropagation();\r\n                $scope.selectedOptionName = option.name;\r\n\r\n                $scope.onSelect();\r\n            };\r\n\r\n            $scope.onKeyPress = function(event) {\r\n                if (event.keyCode == 32 || event.keyCode == 13) {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    $scope.selectedOptionName = $scope.selectedIndex == -1 ? $scope.options[0].name : $scope.options[$scope.selectedIndex].name;\r\n                    $scope.onSelect();\r\n                    return ;\r\n                }\r\n            };\r\n\r\n            $scope.onKeyDown = function(event) {\r\n                if (event.keyCode == 40) {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    $scope.selectedIndex += 1;\r\n                    $scope.selectedIndex = $scope.selectedIndex % $scope.options.length;\r\n                    $scope.selectedOptionName = $scope.options[$scope.selectedIndex].name;\r\n                    return ;\r\n                }\r\n                if (event.keyCode == 38) {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    $scope.selectedIndex = $scope.selectedIndex <= 0 ? $scope.selectedIndex = $scope.options.length - 1 : $scope.selectedIndex - 1;\r\n                    $scope.selectedOptionName = $scope.options[$scope.selectedIndex].name;\r\n                    return ;\r\n                }\r\n            };\r\n\r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n\r\n            $scope.onSelect = function () {\r\n                var option = _.find($scope.options, {name: $scope.selectedOptionName});\r\n\r\n                if (option && option.name != 'cancel') $mdDialog.hide({ option: option, deleted: $scope.deleted });\r\n                else $mdDialog.hide(null);\r\n            };\r\n\r\n            // Setting focus to input control\r\n            function focusInput() {\r\n                var list = $('.pip-conversion-dialog .pip-list');\r\n                list.focus();\r\n            };\r\n            setTimeout(focusInput, 500);\r\n\r\n        }]\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Date control\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve samples int sampler app\r\n * - Optimize. It is way to slow on samples\r\n */\r\n \r\n /* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipDate\", ['pipBasicControls.Templates']);\r\n\r\n    thisModule.directive('pipDate',\r\n        ['$parse', function ($parse) {\r\n            return {\r\n                restrict: 'EA',\r\n                require: 'ngModel',\r\n                scope: {\r\n                    timeMode: '@pipTimeMode',\r\n                    disabled: '&ngDisabled',\r\n                    model: '=ngModel',\r\n                    ngChange: '&'\r\n                },\r\n                templateUrl: 'date/date.html',\r\n                controller: 'pipDateController'\r\n            }\r\n        }]\r\n    );\r\n\r\n    thisModule.controller('pipDateController',\r\n        ['$scope', '$element', 'pipTranslate', function ($scope, $element, pipTranslate) {\r\n\r\n            function dayList(month, year) {\r\n                var count = 31;\r\n\r\n                if (month == 4 || month == 6 || month == 9 || month == 11) {\r\n                    count = 30;\r\n                } else if (month == 2) {\r\n                    if (year)\r\n                    // Calculate leap year (primitive)\r\n                        count = year % 4 == 0 ? 29 : 28;\r\n                    else count = 28;\r\n                }\r\n\r\n                var days = [];\r\n                for (var i = 1; i <= count; i++) {\r\n                    days.push(i);\r\n                }\r\n\r\n                return days;\r\n            };\r\n\r\n            function monthList() {\r\n                var months = [];\r\n\r\n                for (var i = 1; i <= 12; i++) {\r\n                    months.push({\r\n                        id: i,\r\n                        name: pipTranslate.translate('MONTH_' + i)\r\n                    })\r\n                }\r\n\r\n                return months;\r\n            };\r\n\r\n            function yearList() {\r\n                var\r\n                    currentYear = new Date().getFullYear(),\r\n                    startYear = $scope.timeMode == 'future' ? currentYear : currentYear - 100,\r\n                    endYear = $scope.timeMode == 'past' ? currentYear : currentYear + 100,\r\n                    years = [];\r\n\r\n                if ($scope.timeMode == 'past') {\r\n                    for (var i = endYear; i >= startYear; i--) {\r\n                        years.push(i);\r\n                    }\r\n                } else {\r\n                    for (var i = startYear; i <= endYear; i++) {\r\n                        years.push(i);\r\n                    }\r\n                }\r\n\r\n                return years;\r\n            };\r\n\r\n            function adjustDay() {\r\n                var days = dayList($scope.month, $scope.year);\r\n\r\n                if ($scope.days.length != days.length) {\r\n                    if ($scope.day > days.length) {\r\n                        $scope.day = days.length;\r\n                    }\r\n\r\n                    $scope.days = days;\r\n                }\r\n            };\r\n\r\n            function getValue(value) {\r\n                value = value ? (_.isDate(value) ? value : new Date(value)) : null;\r\n\r\n                // Define values\r\n                var day = value ? value.getDate() : null;\r\n                var month = value ? value.getMonth() + 1 : null;\r\n                var year = value ? value.getFullYear() : null;\r\n\r\n                // Update day list if month and year were changed\r\n                if ($scope.month != month\r\n                    && $scope.year != year) {\r\n                    $scope.days = dayList($scope.month, $scope.year);\r\n                }\r\n\r\n                // Assign values to scope\r\n                $scope.day = day;\r\n                $scope.month = month;\r\n                $scope.year = year;\r\n            };\r\n\r\n            function setValue() {\r\n                if ($scope.day && $scope.month && $scope.year) {\r\n                    var value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\r\n                    $scope.model = value;\r\n                    $scope.ngChange();\r\n                }\r\n            };\r\n\r\n            $scope.onDayChanged = function () {\r\n                setValue();\r\n            };\r\n\r\n            $scope.onMonthChanged = function () {\r\n                adjustDay();\r\n                setValue();\r\n            };\r\n\r\n            $scope.onYearChanged = function () {\r\n                adjustDay();\r\n                setValue();\r\n            };\r\n\r\n            // Set initial values\r\n            var value = $scope.model ? (_.isDate($scope.model) ? $scope.model : new Date($scope.model)) : null;\r\n            $scope.day = value ? value.getDate() : null;\r\n            $scope.month = value ? value.getMonth() + 1 : null;\r\n            $scope.year = value ? value.getFullYear() : null;\r\n\r\n            $scope.dayLabel = pipTranslate.translate('DAY');\r\n            $scope.monthLabel = pipTranslate.translate('MONTH');\r\n            $scope.yearLabel = pipTranslate.translate('YEAR');\r\n\r\n            $scope.days = dayList($scope.month, $scope.year);\r\n            $scope.months = monthList();\r\n            $scope.years = yearList();\r\n\r\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\r\n\r\n            // React on changes\r\n            $scope.$watch('model', function (newValue, oldValue) {\r\n                getValue(newValue);\r\n            });\r\n\r\n            $scope.$watch($scope.disabled, function (newValue) {\r\n                $scope.disableControls = newValue;\r\n            });\r\n        }]\r\n    );\r\n\r\n})();\r\n\r\n","/**\r\n * @file Confirmation dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n */\r\n \r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrorDetailsDialog',\r\n        ['ngMaterial', 'pipUtils', 'pipTranslate', 'pipBasicControls.Templates']);\r\n\r\n    thisModule.config(['pipTranslateProvider', function(pipTranslateProvider) {\r\n        pipTranslateProvider.translations('en', {\r\n            'ERROR_DETAILS': 'Error details',\r\n            'CODE': 'Code',\r\n            'PATH': 'Path',\r\n            'ERROR': \"Error code\",\r\n            'METHOD': 'Method',\r\n            'MESSAGE':\"Message\"\r\n\r\n        });\r\n        pipTranslateProvider.translations('ru', {\r\n            'ERROR_DETAILS': 'Детали ошибки',\r\n            'CODE': 'Код',\r\n            'PATH': 'Путь',\r\n            'ERROR': \"Код ошибки\",\r\n            'METHOD': 'Метод',\r\n            'MESSAGE':\"Сообщение\"\r\n        });\r\n    }]);\r\n\r\n    thisModule.factory('pipErrorDetailsDialog',\r\n        ['$mdDialog', function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'error_details_dialog/error_details_dialog.html',\r\n                        controller: 'pipErrorDetailsDialogController',\r\n                        locals: { params: params },\r\n                        clickOutsideToClose: true\r\n                    })\r\n                    .then(function () {\r\n                        if (successCallback) {\r\n                            successCallback();\r\n                        }\r\n                    }, function () {\r\n                        if (cancelCallback) {\r\n                            cancelCallback();\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n        }]\r\n    );\r\n\r\n    thisModule.controller('pipErrorDetailsDialogController',\r\n        ['$scope', '$rootScope', '$mdDialog', 'pipTranslate', 'params', function ($scope, $rootScope, $mdDialog, pipTranslate, params) {\r\n           $scope.error = params.error;\r\n            $scope.ok = params.ok || 'OK';\r\n            $scope.cancel = params.cancel || 'CANCEL';\r\n\r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n\r\n            $scope.onOk = function () {\r\n                $mdDialog.hide();\r\n            };\r\n        }]\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Date range control\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve samples int sampler app\r\n * - Optimize. It is way to slow on samples\r\n */\r\n\r\n/* global angular */\r\n\r\n/*\r\n pip-date-range-type\r\n [ daily,  weekly,  monthly,  yearly ]\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipDateRange\", []);\r\n\r\n    thisModule.directive('pipDateRange',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                require: 'ngModel',\r\n                scope: {\r\n                    timeMode: '@pipTimeMode',\r\n                    disabled: '&ngDisabled',\r\n                    model: '=ngModel',\r\n                    pipChanged: '&',\r\n                    pipDateRangeType: '@',\r\n                    pipDateFormat: '@',\r\n                    pipNoLine: '@'\r\n                },\r\n                templateUrl: 'date_range/date_range.html',\r\n                controller: 'pipDateRangeController'\r\n            }\r\n        });\r\n\r\n    thisModule.controller('pipDateRangeController',\r\n        ['$scope', '$element', 'pipTranslate', '$mdMedia', '$rootScope', function ($scope, $element, pipTranslate, $mdMedia, $rootScope) {\r\n            var bufMonth,\r\n                currentDate = new Date(),\r\n                currentYear = currentDate.getUTCFullYear(),\r\n                currentMonth = currentDate.getUTCMonth() + 1,\r\n                currentDay = currentDate.getUTCDate(),\r\n                prevState = {}, currentState = {};\r\n            $scope.daysWeek = {\r\n                en: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\r\n                ru: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб']\r\n            };\r\n\r\n            $scope.onDayChanged = function () {\r\n                setValue();\r\n            };\r\n\r\n            $scope.onMonthChanged = function () {\r\n                if ($scope.pipDateRangeType == 'weekly') {\r\n                    var date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\r\n                    var dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\r\n                    correctWeek();\r\n                    adjustWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            };\r\n\r\n            $scope.onYearChanged = function () {\r\n                if ($scope.pipDateRangeType == 'weekly') {\r\n                    var date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\r\n                    var dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\r\n                    adjustWeek();\r\n                    correctWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            };\r\n\r\n            $scope.onWeekChange = function () {\r\n                if ($scope.pipDateRangeType == 'weekly') {\r\n                    adjustWeek();\r\n                    correctWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            };\r\n\r\n            // visibility\r\n            $scope.isDay = function () {\r\n                return $scope.pipDateRangeType == 'daily';\r\n            };\r\n\r\n            $scope.isWeek = function () {\r\n                return $scope.pipDateRangeType == 'weekly';\r\n            };\r\n\r\n            $scope.isMonth = function () {\r\n                return (($scope.pipDateRangeType == 'daily') ||\r\n                ($scope.pipDateRangeType == 'weekly') ||\r\n                ($scope.pipDateRangeType == 'monthly'));\r\n            };\r\n\r\n            $scope.onChange = function () {\r\n                if ($scope.pipChanged) {\r\n                    $scope.pipChanged();\r\n                }\r\n            };\r\n\r\n            function setCurrent() {\r\n                currentState.day = $scope.day;\r\n                currentState.month = $scope.month;\r\n                currentState.year = $scope.year;\r\n                currentState.week = $scope.week;\r\n                currentState.dateRangeType = $scope.pipDateRangeType;\r\n                currentState.model = $scope.model;\r\n            }\r\n\r\n            function fillLists() {\r\n                $scope.days = dayList($scope.month, $scope.year);\r\n                $scope.weeks = weekList($scope.month, $scope.year);\r\n                $scope.months = monthList();\r\n                $scope.shortMonths = monthList(true);\r\n                $scope.years = yearList();\r\n\r\n            };\r\n\r\n            function correctWeek() {\r\n                if (!prevState.model || (prevState.model && prevState.model.getTime() >= $scope.model.getTime())) {\r\n                    // if shift week -> increase month\r\n                    if ($scope.weeks && $scope.weeks[$scope.week] && $scope.weeks[$scope.week].id <= 0) {\r\n                        if ($scope.month < 12) $scope.month += 1;\r\n                        else {\r\n                            $scope.month = 1;\r\n                            $scope.year += 1;\r\n                        }\r\n                        fillLists();\r\n                    }\r\n                }\r\n            };\r\n\r\n            function init() {\r\n                var value = $scope.model ? new Date($scope.model) : null;\r\n                $scope.day = value ? value.getUTCDate() : null;\r\n                $scope.month = value ? value.getUTCMonth() + 1 : null;\r\n                $scope.year = value ? value.getUTCFullYear() : null;\r\n                $scope.week = value ? getWeekByDate($scope.day, $scope.month - 1, $scope.year) : null;\r\n\r\n                fillLists();\r\n\r\n                if ($scope.pipDateRangeType == 'weekly') {\r\n                    correctWeek();\r\n                    adjustWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            }\r\n\r\n            // Set initial values\r\n            $scope.$mdMedia = $mdMedia;\r\n\r\n            init();\r\n\r\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\r\n\r\n            // React on changes\r\n            $scope.$watch('model', function (newValue, oldValue) {\r\n                if (newValue != oldValue) {\r\n                    getValue(newValue);\r\n                }\r\n            });\r\n\r\n            $scope.$watch($scope.disabled, function (newValue) {\r\n                $scope.disableControls = newValue;\r\n            });\r\n\r\n            $scope.$watch('pipDateRangeType', function (newValue, oldValue) {\r\n                if ((newValue != oldValue) && (oldValue)) {\r\n                    init();\r\n                }\r\n            });\r\n\r\n            $scope.onYearClick = function () {\r\n                if ($scope.year == null) $scope.year = currentYear;\r\n            };\r\n\r\n            $scope.onMonthClick = function () {\r\n                if ($scope.month == null) $scope.month = currentMonth;\r\n            };\r\n\r\n            $scope.onDayClick = function () {\r\n                if ($scope.year == null) $scope.day = currentDay;\r\n            };\r\n\r\n            return;\r\n\r\n            // ---------------------------------------------------------------------------------------\r\n\r\n            function getCountDay(month, year) {\r\n                var count = 31;\r\n\r\n                if (month == 4 || month == 6 || month == 9 || month == 11) {\r\n                    count = 30;\r\n                } else if (month == 2) {\r\n                    if (year)\r\n                    // Calculate leap year (primitive)\r\n                        count = year % 4 == 0 ? 29 : 28;\r\n                    else count = 28;\r\n                }\r\n                return count;\r\n            }\r\n\r\n            function dayList(month, year) {\r\n                var count = getCountDay(month, year);\r\n\r\n                $scope.nameDays = [];\r\n                var days = [];\r\n                for (var i = 1; i <= count; i++) {\r\n                    days.push(i);\r\n\r\n                    $scope.nameDays.push($scope.daysWeek[$rootScope.$language || 'en'][new Date(year, month - 1, i).getDay()]);\r\n                }\r\n                return days;\r\n            }\r\n\r\n            function getWeekByDate(day, month, year) {\r\n                var date = new Date(Date.UTC(year, month, day));\r\n                var dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                var startWeek;\r\n\r\n                if (dayOfWeek == 1) {\r\n                    startWeek = day;\r\n                } else {\r\n                    startWeek = day + 1 - dayOfWeek;\r\n                }\r\n\r\n                return startWeek;\r\n            }\r\n\r\n            function getWeek(day, countDay, countPrevMonthDay) {\r\n                var endDay = (day + 6) > countDay ? countDay - day - 6 : day + 6;\r\n                var startDay = (day > 0) ? day : countPrevMonthDay + day;\r\n                return (startDay).toString() + ' - ' + (Math.abs(endDay)).toString();\r\n            }\r\n\r\n            function weekList(month, year) { // возвращает список начала надели\r\n                var weeks = [];  // в массиве первые дни недели в текущем месяце\r\n                var countDay = getCountDay(month, year);\r\n                var countPrevMonthDay;\r\n                var startWeek = getWeekByDate(1, month - 1, year);\r\n\r\n                countPrevMonthDay = month - 1 ? getCountDay(month - 1, year) : getCountDay(12, year - 1);\r\n                while (startWeek < countDay + 1) {\r\n                    weeks.push({\r\n                        id: startWeek,\r\n                        name: getWeek(startWeek, countDay, countPrevMonthDay)\r\n                    });\r\n                    startWeek = startWeek + 7;\r\n                }\r\n\r\n                return weeks;\r\n            }\r\n\r\n            function monthList(isShort) {\r\n                var months = [];\r\n\r\n                for (var i = 1; i <= 12; i++) {\r\n                    months.push({\r\n                        id: i,\r\n                        name: pipTranslate.translate('MONTH_' + i)\r\n                    })\r\n                }\r\n\r\n                return months;\r\n            }\r\n\r\n            function yearList() {\r\n                var\r\n                    startYear,\r\n                    endYear,\r\n                    years = [];\r\n\r\n                switch ($scope.timeMode) {\r\n                    case 'future':\r\n                        startYear = currentYear;\r\n                        endYear = currentYear + 100;\r\n                        break;\r\n                    case 'past':\r\n                        startYear = currentYear - 100;\r\n                        endYear = currentYear;\r\n                        break;\r\n                    case 'now':\r\n                        startYear = currentYear - 50;\r\n                        endYear = currentYear + 100;\r\n                        break;\r\n                    default:\r\n                        startYear = currentYear - 50;\r\n                        endYear = currentYear + 50;\r\n                        break;\r\n                }\r\n                if ($scope.timeMode == 'future') {\r\n                    for (var i = startYear; i <= endYear; i++) {\r\n                        years.push(i);\r\n                    }\r\n                } else {\r\n                    for (var i = endYear; i >= startYear; i--) {\r\n                        years.push(i);\r\n                    }\r\n                }\r\n                return years;\r\n            }\r\n\r\n            function adjustDay() {\r\n                var days = dayList($scope.month, $scope.year);\r\n\r\n                switch ($scope.pipDateRangeType) {\r\n                    case 'monthly':\r\n                        $scope.day = 1;\r\n                        break;\r\n                    case 'yearly':\r\n                        $scope.month = 1;\r\n                        $scope.day = 1;\r\n                        break;\r\n                    default:\r\n                        if ($scope.days.length != days.length) {\r\n                            if ($scope.day > days.length) {\r\n                                $scope.day = days.length;\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n                $scope.days = days;\r\n            }\r\n\r\n            function adjustWeek() {\r\n                var weeks = weekList($scope.month, $scope.year);\r\n                $scope.week = getWeekByDate($scope.week, $scope.month - 1, $scope.year);\r\n                $scope.weeks = weeks;\r\n            }\r\n\r\n            function getValue(value) {\r\n                value = value ? new Date(value) : null;\r\n                // Define values\r\n                var day = value ? value.getUTCDate() : null;\r\n                var month = value ? value.getUTCMonth() + 1 : null;\r\n                var year = value ? value.getUTCFullYear() : null;\r\n                var week = value ? getWeekByDate(day, month - 1, year) : null;\r\n                // Exit if nothing to update\r\n                if ($scope.day == day && $scope.month == month\r\n                    && $scope.year == year && $scope.week == week)\r\n                    return;\r\n                // Assign values to scope\r\n                $scope.day = day;\r\n                $scope.month = month;\r\n                $scope.year = year;\r\n                $scope.week = week;\r\n\r\n                // Define data sources\r\n                $scope.days = dayList($scope.month, $scope.year);\r\n                $scope.weeks = weekList($scope.month, $scope.year);\r\n            }\r\n\r\n            function setValue() {\r\n                var value;\r\n                if ($scope.pipDateRangeType == 'weekly') {\r\n                    value = new Date($scope.year, $scope.month - 1, $scope.week, 0, 0, 0, 0);\r\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                    $scope.model = value;\r\n                } else {\r\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\r\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                    $scope.model = value;\r\n                }\r\n\r\n                prevState = _.cloneDeep(currentState);\r\n                setCurrent();\r\n                $scope.onChange();\r\n            }\r\n        }]\r\n    );\r\n\r\n})();\r\n\r\n","/**\r\n * @file Information dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n */\r\n \r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipInformationDialog', \r\n        ['ngMaterial', 'pipUtils', 'pipTranslate', 'pipBasicControls.Templates']);\r\n\r\n    thisModule.config(['pipTranslateProvider', function(pipTranslateProvider) {\r\n        pipTranslateProvider.translations('en', {\r\n            'INFORMATION_TITLE': 'Information'\r\n        });\r\n        pipTranslateProvider.translations('ru', {\r\n            'INFORMATION_TITLE': 'Информация'\r\n        });\r\n    }]);\r\n        \r\n    thisModule.factory('pipInformationDialog', \r\n        ['$mdDialog', '$timeout', function ($mdDialog, $timeout) {\r\n            return {\r\n                show: function (params, callback) {\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'information_dialog/information_dialog.html',\r\n                        controller: 'pipInformationDialogController',\r\n                        locals: { params: params },\r\n                        clickOutsideToClose: true\r\n                    })\r\n                    .then(function () {\r\n                        if (callback) callback();\r\n                    });\r\n                }\r\n            };\r\n        }]\r\n    );\r\n\r\n    thisModule.controller('pipInformationDialogController',\r\n        ['$scope', '$rootScope', '$mdDialog', 'pipTranslate', 'params', 'pipUtils', function ($scope, $rootScope, $mdDialog, pipTranslate, params, pipUtils) {\r\n            $scope.theme = $rootScope.$theme;\r\n            $scope.title = params.title || 'INFORMATION_TITLE';\r\n\r\n            var content = pipTranslate.translate(params.message);\r\n            if (params.item) {\r\n                var item = _.truncate(params.item, 25);\r\n                content = pipUtils.sprintf(content, item);\r\n            }\r\n            $scope.content = content;\r\n            $scope.ok = params.ok || 'OK';\r\n\r\n            $scope.onOk = function () {\r\n                $mdDialog.hide();\r\n            };\r\n        }]        \r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Image slider control\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global _, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipImageSlider\", []);\r\n\r\n    thisModule.directive('pipImageSlider',\r\n        function () {\r\n            return {\r\n                scope: false,\r\n                controller: ['$scope', '$element', '$attrs', '$parse', '$timeout', '$interval', '$pipImageSlider', function ($scope, $element, $attrs, $parse, $timeout, $interval, $pipImageSlider/*, $swipe*/) {\r\n                    var blocks,\r\n                        indexSetter = $parse($attrs.pipImageSliderIndex).assign,\r\n                        index = 0, newIndex,\r\n                        direction,\r\n                        type = $parse($attrs.pipAnimationType)($scope),\r\n                        DEFAULT_INTERVAL = 4500,\r\n                        interval = $parse($attrs.pipAnimationInterval)($scope),\r\n                        timePromises;\r\n\r\n                    $element.addClass('pip-image-slider');\r\n                    $element.addClass('pip-animation-' + type);\r\n\r\n                    $scope.swipeStart = 0;\r\n/*\r\n                    if ($swipe)\r\n                        $swipe.bind($element, {\r\n                            'start': function(coords) {\r\n                                if (coords) $scope.swipeStart = coords.x;\r\n                                else $scope.swipeStart = 0;\r\n                            },\r\n                            'end': function(coords) {\r\n                                var delta;\r\n                                if (coords) {\r\n                                    delta = $scope.swipeStart - coords.x;\r\n                                    if (delta > 150)  $scope.nextBlock();\r\n                                    if (delta < -150)  $scope.prevBlock();\r\n                                    $scope.swipeStart = 0;\r\n                                } else $scope.swipeStart = 0;\r\n                            }\r\n                        });\r\n*/\r\n                    setIndex();\r\n\r\n                    $timeout(function () {\r\n                        blocks = $element.find('.pip-animation-block');\r\n                        if (blocks.length > 0) $(blocks[0]).addClass('pip-show');\r\n                    });\r\n\r\n                    startInterval();\r\n\r\n                    var throttled = _.throttle(function () {\r\n                        $pipImageSlider.toBlock(type, blocks, index, newIndex, direction);\r\n                        index = newIndex;\r\n                        setIndex();\r\n                    }, 600);\r\n\r\n                    $scope.nextBlock = function() {\r\n                        restartInterval();\r\n                        newIndex = index + 1 == blocks.length ? 0 : index + 1;\r\n                        direction = 'next';\r\n                        throttled();\r\n                    };\r\n\r\n                    $scope.prevBlock = function() {\r\n                        restartInterval();\r\n                        newIndex = index - 1 < 0 ? blocks.length - 1 : index - 1;\r\n                        direction = 'prev';\r\n                        throttled();\r\n                    };\r\n\r\n                    $scope.slideTo = function (nextIndex) {\r\n                        if (nextIndex == index || nextIndex > blocks.length - 1) return;\r\n\r\n                        restartInterval();\r\n                        newIndex = nextIndex;\r\n                        direction = nextIndex > index ? 'next' : 'prev';\r\n                        throttled();\r\n                    };\r\n\r\n                    function setIndex() {\r\n                        if (indexSetter) indexSetter($scope, index);\r\n                    }\r\n\r\n                    function startInterval() {\r\n                        timePromises = $interval(function () {\r\n                            newIndex = index + 1 == blocks.length ? 0 : index + 1;\r\n                            direction = 'next';\r\n                            throttled();\r\n                        }, interval || DEFAULT_INTERVAL);\r\n                    }\r\n\r\n                    function stopInterval() {\r\n                        $interval.cancel(timePromises);\r\n                    }\r\n\r\n                    $element.on('$destroy', function() {\r\n                        stopInterval();\r\n                    });\r\n\r\n                    function restartInterval() {\r\n                        stopInterval();\r\n                        startInterval();\r\n                    }\r\n                }]\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.directive('pipSliderButton',\r\n        function () {\r\n            return {\r\n                scope: {},\r\n                controller: ['$scope', '$element', '$parse', '$attrs', function ($scope, $element, $parse, $attrs) {\r\n                    var type = $parse($attrs.pipButtonType)($scope),\r\n                        sliderId = $parse($attrs.pipSliderId)($scope);\r\n\r\n                    $element.on('click', function () {\r\n                        if (!sliderId || !type) return;\r\n\r\n                        angular.element(document.getElementById(sliderId)).scope()[type + 'Block']();\r\n                    });\r\n                }]\r\n            }\r\n        }\r\n    );\r\n\r\n    thisModule.directive('pipSliderIndicator',\r\n        function () {\r\n            return {\r\n                scope: false,\r\n                controller: ['$scope', '$element', '$parse', '$attrs', function ($scope, $element, $parse, $attrs) {\r\n                    var sliderId = $parse($attrs.pipSliderId)($scope),\r\n                        slideTo = $parse($attrs.pipSlideTo)($scope);\r\n\r\n                    $element.css('cursor', 'pointer');\r\n                    $element.on('click', function () {\r\n                        if (!sliderId || (slideTo && slideTo < 0)) return;\r\n\r\n                        angular.element(document.getElementById(sliderId)).scope().slideTo(slideTo);\r\n                    });\r\n                }]\r\n            }\r\n        }\r\n    );\r\n\r\n    thisModule.service('$pipImageSlider',\r\n        ['$timeout', function ($timeout) {\r\n\r\n            var ANIMATION_DURATION = 550;\r\n\r\n            return {\r\n                nextCarousel: nextCarousel,\r\n                prevCarousel: prevCarousel,\r\n                toBlock: toBlock\r\n            };\r\n\r\n            function nextCarousel(nextBlock, prevBlock) {\r\n                nextBlock.removeClass('animated').addClass('pip-next');\r\n\r\n                $timeout(function () {\r\n                    nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\r\n                    prevBlock.addClass('animated').removeClass('pip-show');\r\n                }, 100);\r\n            }\r\n\r\n            function prevCarousel (nextBlock, prevBlock) {\r\n                nextBlock.removeClass('animated');\r\n\r\n                $timeout(function () {\r\n                    nextBlock.addClass('animated').addClass('pip-show');\r\n                    prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\r\n\r\n                    $timeout(function () {\r\n                        prevBlock.removeClass('pip-next').removeClass('animated');\r\n                    }, ANIMATION_DURATION - 100);\r\n                }, 100);\r\n            }\r\n\r\n            function toBlock(type, blocks, oldIndex, nextIndex, direction) {\r\n                var prevBlock = $(blocks[oldIndex]),\r\n                    blockIndex = nextIndex;\r\n                var nextBlock = $(blocks[blockIndex]);\r\n\r\n                if (type == 'carousel') {\r\n                    $(blocks).removeClass('pip-next').removeClass('pip-prev');\r\n\r\n                    if (direction && direction == 'prev')\r\n                        prevCarousel(nextBlock, prevBlock);\r\n                    else {\r\n                        if (direction && direction == 'next') {\r\n                            nextCarousel(nextBlock, prevBlock);\r\n                        } else {\r\n                            if (nextIndex && nextIndex < oldIndex)\r\n                                prevCarousel(nextBlock, prevBlock);\r\n                            else\r\n                                nextCarousel(nextBlock, prevBlock);\r\n                        }\r\n                    }\r\n                } else {\r\n                    prevBlock.addClass('animated').removeClass('pip-show');\r\n                    nextBlock.addClass('animated').addClass('pip-show');\r\n                }\r\n            }\r\n        }]\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Markdown control\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Move css styles under control\r\n * - Improve samples in sampler app\r\n */\r\n\r\n/* global angular, pip, marked */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipMarkdown\", ['ngSanitize', 'pipUtils', 'pipTranslate']);\r\n\r\n    thisModule.config(['pipTranslateProvider', function(pipTranslateProvider) {\r\n        pipTranslateProvider.translations('en', {\r\n            'MARKDOWN_ATTACHMENTS': 'Attachments:',\r\n            'checklist': 'Checklist',\r\n            'documents': 'Documents',\r\n            'pictures': 'Pictures',\r\n            'location': 'Location',\r\n            'time': 'Time'\r\n        });\r\n        pipTranslateProvider.translations('ru', {\r\n            'MARKDOWN_ATTACHMENTS': 'Вложения:',\r\n            'checklist': 'Список',\r\n            'documents': 'Документы',\r\n            'pictures': 'Изображения',\r\n            'location': 'Местонахождение',\r\n            'time': 'Время'\r\n        });\r\n    }]);\r\n\r\n    thisModule.directive('pipMarkdown',\r\n        ['$parse', 'pipUtils', 'pipTranslate', function($parse, pipUtils, pipTranslate) {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: false,\r\n                link: function ($scope, $element, $attrs) {\r\n                    var\r\n                        textGetter = $parse($attrs.pipText),\r\n                        listGetter = $parse($attrs.pipList),\r\n                        clampGetter = $parse($attrs.pipLineCount);\r\n\r\n                    function describeAttachments(array) {\r\n                        var attachString = '',\r\n                            attachTypes = [];\r\n\r\n                        _.each(array, function(attach) {\r\n                            if (attach.type && attach.type != 'text') {\r\n                                if (attachString.length == 0) attachString = pipTranslate.translate('MARKDOWN_ATTACHMENTS');\r\n\r\n                                if (attachTypes.indexOf(attach.type) < 0) {\r\n                                    attachTypes.push(attach.type);\r\n                                    attachString += (attachTypes.length > 1 ? ', ' : ' ') + pipTranslate.translate(attach.type);\r\n                                }\r\n                            }\r\n                        })\r\n\r\n                        return attachString;\r\n                    }\r\n\r\n                    function bindText(value) {\r\n                        var textString;\r\n\r\n                        if (_.isArray(value)) {\r\n                            var obj = _.find(value, function(item) {\r\n                                return item.type == 'text' && item.text;\r\n                            });\r\n\r\n                            textString =  obj ? obj.text : describeAttachments(value);\r\n                        } else {\r\n                            textString = value;\r\n                        }\r\n\r\n                        var isClamped = $attrs.pipLineCount && _.isNumber(clampGetter()) && (textString && textString.length > 0),\r\n                            height,\r\n                            options = {\r\n                                gfm: true,\r\n                                tables: true,\r\n                                breaks: true,\r\n                                sanitize: true,\r\n                                pedantic: true,\r\n                                smartLists: true,\r\n                                smartypents: false\r\n                            };\r\n                        textString = marked(textString || '', options);\r\n                        if (isClamped) height = 1.5 * clampGetter();\r\n                        // Assign value as HTML\r\n                        $element.html('<div' + (isClamped ? listGetter()?' class=\"pip-markdown-content pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\r\n                                ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' :  listGetter()? ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\r\n                        $element.find('a').attr('target', 'blank');\r\n                        if (!listGetter() && isClamped) $element.append('<div class=\"pip-gradient-block\"></div>');\r\n                    }\r\n\r\n                    // Fill the text\r\n                    bindText(textGetter($scope));\r\n\r\n                    // Also optimization to avoid watch if it is unnecessary\r\n                    if (pipUtils.toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch(textGetter, function(newValue) {\r\n                            bindText(newValue);\r\n                        });\r\n                    }\r\n\r\n                    $scope.$on('pipWindowResized', function () {\r\n                        bindText(textGetter($scope));\r\n                    });\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-markdown');\r\n                }\r\n            }\r\n        }]\r\n    );\r\n\r\n})();\r\n\r\n","/**\r\n * @file Popover control\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n *\r\n */\r\n\r\n/* global _, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipPopover\", ['pipAssert']);\r\n\r\n    thisModule.directive('pipPopover', function () {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: true,\r\n            templateUrl: 'popover/popover.template.html',\r\n            controller:\r\n                ['$scope', '$rootScope', '$element', '$timeout', '$compile', function ($scope, $rootScope, $element, $timeout, $compile) {\r\n                    var backdropElement = $('.pip-popover-backdrop');\r\n                    backdropElement.on('click keydown scroll', backdropClick);\r\n                    backdropElement.addClass($scope.params.responsive !== false ? 'pip-responsive' : '');\r\n\r\n                    $timeout(function () {\r\n                        position();\r\n                        if ($scope.params.template) {\r\n                            var content = $compile($scope.params.template)($scope);\r\n                            $element.find('.pip-popover').append(content);\r\n                        }\r\n\r\n                        init();\r\n                    });\r\n\r\n                    $timeout(function() {\r\n                        calcHeight();\r\n                    }, 200);\r\n\r\n                    $scope.onPopoverClick = onPopoverClick;\r\n                    $scope = _.defaults($scope, $scope.$parent);\r\n\r\n                    $rootScope.$on('pipPopoverResize', onResize);\r\n                    $(window).resize(onResize);\r\n\r\n                    function init() {\r\n                        backdropElement.addClass('opened');\r\n                        $('.pip-popover-backdrop').focus();\r\n                        if ($scope.params.timeout) {\r\n                            $timeout(function () {\r\n                                closePopover();\r\n                            }, $scope.params.timeout);\r\n                        }\r\n                    }\r\n\r\n                    function backdropClick() {\r\n                        if ($scope.params.cancelCallback)\r\n                            $scope.params.cancelCallback();\r\n\r\n                        closePopover();\r\n                    }\r\n\r\n                    function closePopover () {\r\n                        backdropElement.removeClass('opened');\r\n                        $timeout(function () {\r\n                            backdropElement.remove();\r\n                        }, 100);\r\n                    }\r\n\r\n                    function onPopoverClick ($e) {\r\n                        $e.stopPropagation();\r\n                    }\r\n\r\n                    function position() {\r\n                        if ($scope.params.element) {\r\n                            var element = $($scope.params.element),\r\n                                pos = element.offset(),\r\n                                width = element.width(),\r\n                                height = element.height(),\r\n                                docWidth = $(document).width(),\r\n                                docHeight = $(document).height(),\r\n                                popover = backdropElement.find('.pip-popover');\r\n\r\n                            if (pos)\r\n                                popover\r\n                                    .css('max-width', docWidth - (docWidth - pos.left))\r\n                                    .css('max-height', docHeight - (pos.top + height) - 32, 0)\r\n                                    .css('left', pos.left - popover.width() + (width / 2))\r\n                                    .css('top', pos.top + height + 16);\r\n                        }\r\n                    }\r\n\r\n                    function calcHeight () {\r\n                        if ($scope.params.calcHeight === false) return;\r\n\r\n                        var popover = backdropElement.find('.pip-popover'),\r\n                            title = popover.find('.pip-title'),\r\n                            footer = popover.find('.pip-footer'),\r\n                            content = popover.find('.pip-content'),\r\n                            contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\r\n\r\n                        content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\r\n                    }\r\n\r\n                    function onResize () {\r\n                        backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\r\n                        position();\r\n                        calcHeight();\r\n                    }\r\n                }]\r\n        };\r\n    });\r\n\r\n    thisModule.service('$pipPopover',\r\n        ['$compile', '$rootScope', '$timeout', function ($compile, $rootScope, $timeout) {\r\n            var popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller' tabindex='1'>\" +\r\n                                    \"<pip-popover pip-params='params'>\" +\r\n                                    \"</pip-popover>\" +\r\n                                  \"</div>\";\r\n\r\n            return {\r\n                show: onShow,\r\n                hide: onHide,\r\n                resize: onResize\r\n            };\r\n\r\n            function onShow(params) {\r\n                var element = $('body');\r\n\r\n                if (element.find('md-backdrop').length > 0) return;\r\n                onHide();\r\n\r\n                var scope = $rootScope.$new(),\r\n                    params = params && _.isObject(params) ? params : {},\r\n                    content;\r\n\r\n                scope.params = params;\r\n                scope.locals = params.locals;\r\n                content = $compile(popoverTemplate)(scope);\r\n                element.append(content);\r\n            }\r\n\r\n            function onHide () {\r\n                var backdropElement = $('.pip-popover-backdrop');\r\n\r\n                backdropElement.removeClass('opened');\r\n                $timeout(function () {\r\n                    backdropElement.remove();\r\n                }, 100);\r\n            }\r\n\r\n            function onResize () {\r\n                $rootScope.$broadcast('pipPopoverResize');\r\n            }\r\n\r\n        }]\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Options dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n * - Remove deleted hack in the controller\r\n */\r\n \r\n/* global $, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipOptionsDialog', \r\n        ['ngMaterial', 'pipUtils', 'pipTranslate', 'pipBasicControls.Templates']);\r\n\r\n    thisModule.config(['pipTranslateProvider', function(pipTranslateProvider) {\r\n        pipTranslateProvider.translations('en', {\r\n            'OPTIONS_TITLE': 'Choose Option'\r\n        });\r\n        pipTranslateProvider.translations('ru', {\r\n            'OPTIONS_TITLE': 'Выберите опцию'\r\n        });\r\n    }]);\r\n\r\n    thisModule.factory('pipOptionsDialog', \r\n        ['$mdDialog', function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    if (params.event) {\r\n                        params.event.stopPropagation();\r\n                        params.event.preventDefault();\r\n                    }\r\n\r\n                    function focusToggleControl() {\r\n                        if (params.event && params.event.currentTarget)\r\n                            params.event.currentTarget.focus();\r\n                    }\r\n\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'options_dialog/options_dialog.html',\r\n                        controller: 'pipOptionsDialogController',\r\n                        locals: { params: params },\r\n                        clickOutsideToClose: true\r\n                    })\r\n                    .then(function (option) {\r\n                        focusToggleControl();\r\n\r\n                        if (successCallback) successCallback(option);\r\n                    }, function () {\r\n                        focusToggleControl();\r\n                        if (cancelCallback) cancelCallback();\r\n                    });\r\n                }\r\n            };\r\n        }]\r\n    );\r\n\r\n    thisModule.controller('pipOptionsDialogController',\r\n        ['$scope', '$rootScope', '$mdDialog', 'params', function ($scope, $rootScope, $mdDialog, params) {\r\n            $scope.theme = $rootScope.$theme;\r\n            $scope.title = params.title || 'OPTIONS_TITLE';\r\n            $scope.options = params.options;\r\n            $scope.selectedOption = _.find(params.options, {active: true}) || {};\r\n            $scope.selectedOptionName = $scope.selectedOption.name;\r\n            $scope.applyButtonTitle = params.appleButtonTitle || 'SELECT';\r\n            \r\n            $scope.deleted = params.deleted;\r\n            $scope.deletedTitle = params.deletedTitle;\r\n    \r\n            $scope.onOptionSelect = function (event, option) {\r\n                event.stopPropagation();\r\n                $scope.selectedOptionName = option.name;\r\n            };\r\n    \r\n            $scope.onKeyPress = function(event) {\r\n                if (event.keyCode == 32 || event.keyCode == 13) {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    $scope.onSelect();\r\n                }\r\n            };\r\n    \r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n            \r\n            $scope.onSelect = function () {\r\n                var option = _.find(params.options, {name: $scope.selectedOptionName});\r\n                $mdDialog.hide({ option: option, deleted: $scope.deleted });\r\n            };\r\n    \r\n            // Setting focus to input control\r\n            function focusInput() {\r\n                var list = $('.pip-options-dialog .pip-list');\r\n                list.focus();\r\n            };\r\n            setTimeout(focusInput, 500);\r\n    \r\n        }]\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Options dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n * - Remove deleted hack in the controller\r\n */\r\n \r\n/* global $, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipOptionsBigDialog',\r\n        ['ngMaterial', 'pipUtils', 'pipTranslate', 'pipBasicControls.Templates']);\r\n\r\n    thisModule.config(['pipTranslateProvider', function(pipTranslateProvider) {\r\n        pipTranslateProvider.translations('en', {\r\n            'OPTIONS_TITLE': 'Choose Option'\r\n        });\r\n        pipTranslateProvider.translations('ru', {\r\n            'OPTIONS_TITLE': 'Выберите опцию'\r\n        });\r\n    }]);\r\n\r\n    thisModule.factory('pipOptionsBigDialog',\r\n        ['$mdDialog', function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    if (params.event) {\r\n                        params.event.stopPropagation();\r\n                        params.event.preventDefault();\r\n                    }\r\n\r\n                    function focusToggleControl() {\r\n                        if (params.event && params.event.currentTarget)\r\n                            params.event.currentTarget.focus();\r\n                    }\r\n\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'options_dialog/options_dialog_big.html',\r\n                        controller: 'pipOptionsDialogBigController',\r\n                        locals: { params: params },\r\n                        clickOutsideToClose: true\r\n                    })\r\n                    .then(function (option) {\r\n                        focusToggleControl();\r\n\r\n                        if (successCallback) successCallback(option);\r\n                    }, function () {\r\n                        focusToggleControl();\r\n                        if (cancelCallback) cancelCallback();\r\n                    });\r\n                }\r\n            };\r\n        }]\r\n    );\r\n\r\n    thisModule.controller('pipOptionsDialogBigController',\r\n        ['$scope', '$rootScope', '$mdDialog', 'params', function ($scope, $rootScope, $mdDialog, params) {\r\n            $scope.theme = $rootScope.$theme;\r\n            $scope.title = params.title || 'OPTIONS_TITLE';\r\n            $scope.options = params.options;\r\n            $scope.noActions = params.noActions || false;\r\n            $scope.noTitle = params.noTitle || false;\r\n            $scope.hint = params.hint || '';\r\n            $scope.selectedOption = _.find(params.options, {active: true}) || {};\r\n            $scope.selectedOptionName = $scope.selectedOption.name;\r\n            $scope.optionIndex  = _.findIndex(params.options,$scope.selectedOption);\r\n            $scope.applyButtonTitle = params.applyButtonTitle || 'SELECT';\r\n            \r\n            $scope.deleted = params.deleted;\r\n            $scope.deletedTitle = params.deletedTitle;\r\n    \r\n            $scope.onOptionSelect = function (event, option) {\r\n                event.stopPropagation();\r\n                $scope.selectedOptionName = option.name;\r\n\r\n                if ($scope.noActions) {\r\n                    $scope.onSelect();\r\n                }\r\n            };\r\n\r\n            $scope.onSelected = function (event) {\r\n                $scope.selectedOptionName = $scope.options[$scope.optionIndex].name;\r\n\r\n                if ($scope.noActions) {\r\n                    // $scope.onSelect();\r\n                }\r\n            };\r\n    \r\n            $scope.onKeyUp = function(event, index) {\r\n                if (event.keyCode == 32 || event.keyCode == 13) {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    if (index != undefined && index > -1 && index < $scope.options.length) {\r\n                        $scope.selectedOptionName = $scope.options[index].name;\r\n                        $scope.onSelect();\r\n                    }\r\n                }\r\n            };\r\n    \r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n            \r\n            $scope.onSelect = function () {\r\n                var option = _.find($scope.options, {name: $scope.selectedOptionName});\r\n                $mdDialog.hide({ option: option, deleted: $scope.deleted });\r\n            };\r\n    \r\n            // Setting focus to input control\r\n            function focusInput() {\r\n                var list = $('.pip-options-dialog .pip-list');\r\n                list.focus();\r\n            };\r\n            setTimeout(focusInput, 500);\r\n    \r\n        }]\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Routing progress control\r\n * @description \r\n * This progress control is enabled by ui router \r\n * while switching between pages\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global _, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipRoutingProgress\", ['ngMaterial']);\r\n\r\n    thisModule.directive('pipRoutingProgress', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           replace: true,\r\n           templateUrl: 'progress/routing_progress.html'\r\n       };\r\n    });\r\n   \r\n})();","/**\r\n * @file Tag list control\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n * @todo\r\n * - Improve samples in sampler app\r\n * - What's pipType and pipTypeLocal? Give better name\r\n * - Do not use ng-if, instead generate template statically\r\n */\r\n \r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipTagList\", ['pipCore']);\r\n\r\n    /**\r\n     * pipTags - set of tags\r\n     * pipType - additional type tag\r\n     * pipTypeLocal - additional translated type tag\r\n     */\r\n    thisModule.directive('pipTagList', \r\n        ['$parse', function ($parse) {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipTags: '=',\r\n                    pipType: '=',\r\n                    pipTypeLocal: '='\r\n                },\r\n                templateUrl: 'tags/tag_list.html',\r\n                controller:\r\n                    ['$scope', '$element', '$attrs', 'pipUtils', function ($scope, $element, $attrs, pipUtils) {\r\n                        var tagsGetter = $parse($attrs.pipTags);\r\n                        \r\n                        $element.css(\"display\", \"block\");\r\n                        \r\n                        // Set tags\r\n                        $scope.tags = tagsGetter($scope);\r\n\r\n                        // Also optimization to avoid watch if it is unnecessary\r\n                        if (pipUtils.toBoolean($attrs.pipRebind)) {\r\n                            $scope.$watch(tagsGetter, function (newValue) {\r\n                                $scope.tags = tagsGetter($scope)\r\n                            });\r\n                        }\r\n\r\n                        // Add class\r\n                        $element.addClass('pip-tag-list');\r\n                    }]\r\n            }\r\n        }]\r\n    );\r\n\r\n})();\r\n\r\n","/**\r\n * @file Refresh button control\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipRefreshButton\", ['ngMaterial']);\r\n\r\n    thisModule.directive('pipRefreshButton',  \r\n        ['$parse', function($parse) {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: false,\r\n                template: String()\r\n                    + '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"onClick($event)\" aria-label=\"REFRESH\">'\r\n                    + '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>'\r\n                    + ' <span class=\"pip-refresh-text\"></span>'\r\n                    + '</md-button>',\r\n                replace: false,\r\n                link: function ($scope, $element, $attrs) {\r\n                    var\r\n                        textGetter = $parse($attrs.pipText),\r\n                        visibleGetter = $parse($attrs.pipVisible),\r\n                        refreshGetter = $parse($attrs.pipRefresh),\r\n                        $button = $element.children('.md-button'),\r\n                        $text = $button.children('.pip-refresh-text');\r\n\r\n                    var show = function() {\r\n                        // Set a new text\r\n                        var text = textGetter($scope);\r\n                        $text.text(text);\r\n\r\n                        // Show button\r\n                        $button.show();\r\n                        \r\n                        // Adjust position\r\n                        var width = $button.width();\r\n                        $button.css('margin-left', '-' + (width / 2) + 'px');\r\n                    };\r\n\r\n                    function hide() {\r\n                        $button.hide();  \r\n                    };\r\n\r\n                    $scope.onClick = function(event) {\r\n                        refreshGetter($scope);  \r\n                    };\r\n\r\n                    $scope.$watch(visibleGetter, function(newValue) {\r\n                        if (newValue == true) show();\r\n                        else hide();\r\n                    });\r\n\r\n                    $scope.$watch(textGetter, function(newValue) {\r\n                        $text.text(newValue);\r\n                    });\r\n                }\r\n            }\r\n        }]\r\n    );\r\n\r\n})();\r\n\r\n","/**\r\n * @file Time control\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipTimeView\", ['pipUtils']);\r\n\r\n    thisModule.directive('pipTimeView',\r\n        ['pipUtils', function (pipUtils) {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipStartDate: '=',\r\n                    pipEndDate: '='\r\n                },\r\n                templateUrl:  'time_view/time_view.html',\r\n                link: function ($scope, $element, $attrs) {\r\n\r\n                    function getDateJSON(value) {\r\n                        var date = value ? new Date(value) : null;\r\n                        return date;\r\n                    };\r\n\r\n                    function defineStartDate() {\r\n                        if (($scope.pipStartDate !== null) && ($scope.pipStartDate !== undefined)) {\r\n                            $scope.data.start = _.isDate($scope.pipStartDate) ?  $scope.pipStartDate : getDateJSON($scope.pipStartDate);\r\n                        }\r\n                    };\r\n\r\n                    function defineEndDate() {\r\n                        if (($scope.pipEndDate !== null) && ($scope.pipEndDate !== undefined)) {\r\n                            $scope.data.end = _.isDate($scope.pipEndDate) ?  $scope.pipEndDate : getDateJSON($scope.pipEndDate);\r\n                        }\r\n                    };\r\n\r\n                    $scope.data = {};\r\n                    $scope.data.start = null;\r\n                    $scope.data.end = null;\r\n                    defineStartDate();\r\n                    defineEndDate();\r\n\r\n                    if (pipUtils.toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch('pipStartDate',\r\n                            function (newValue) {\r\n                                $scope.data.start = null;\r\n                                defineStartDate();\r\n                            }\r\n                        );\r\n                        $scope.$watch('pipEndDate',\r\n                            function (newValue) {\r\n                                $scope.data.end = null;\r\n                                defineEndDate();\r\n                            }\r\n                        );\r\n                    }\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-time-view');\r\n                }\r\n            }\r\n        }]\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Time control\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipTimeEdit\", ['pipUtils', 'pipTranslate']);\r\n\r\n    thisModule.directive('pipTimeEdit',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipStartDate: '=',\r\n                    pipChanged: '&',\r\n                    pipEndDate: '=',\r\n                    pipStartLabel: '@',\r\n                    pipEndLabel: '@',\r\n                    disabled: '&ngDisabled',\r\n                    pipSize: '='\r\n                },\r\n                templateUrl: 'time_edit/time_edit.html',\r\n                controller: 'pipTimeEditController'\r\n            }\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipTimeEditController',\r\n        ['$scope', '$element', '$attrs', 'pipDates', 'pipTranslate', function ($scope, $element, $attrs, pipDates, pipTranslate) {\r\n\r\n            function getDateJSON(value) {\r\n                var date = value ? new Date(value) : null;\r\n                return date;\r\n            };\r\n\r\n            function setDuration() {\r\n                if (!$scope.data.startDate || !$scope.data.endDate)\r\n                    return null;\r\n\r\n                var start, end;\r\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\r\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\r\n                return end - start;\r\n            };\r\n\r\n            function validateStartDate() {\r\n                // если начальная дата не задана, обнуляем и выходим\r\n                if (!$scope.data.startDate) {\r\n                    $scope.data.startTime = null;\r\n                    return;\r\n                }\r\n                // еcли не задано начальное время - задаем его\r\n                if (!$scope.data.startTime) {\r\n                    if (!$scope.data.endTime) {\r\n                        var date = new Date();\r\n                        $scope.data.startTime = Math.floor((date.getTime() -  pipDates.toStartDay(date)) / (30 * 60 * 1000)) * 30;\r\n                    } else {\r\n                        $scope.data.startTime = $scope.data.endTime == 0 ? 0 : $scope.data.endTime - 30;\r\n                    }\r\n                }\r\n\r\n                // если конечная дата не задана, обнуляем и выходим\r\n                if (!$scope.data.endDate) {\r\n                    $scope.data.endTime = null;\r\n                    return;\r\n                }\r\n\r\n                var start, end;\r\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\r\n                // Если есть длительность, то сохраняем ее. Длительность можно изменить только изменяя конечную дату\r\n                if ($scope.data.duration) {\r\n                    end = new Date(start.getTime() + $scope.data.duration);\r\n                    $scope.data.endDate = pipDates.toStartDay(end);\r\n                    $scope.data.endTime = Math.floor((end.getTime() - $scope.data.endDate.getTime()) / (30 * 60 * 1000)) * 30;\r\n                } else {\r\n                    // Если нет длительности сравниваем даты\r\n                    end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\r\n                    if (start >= end) {\r\n                        // Если начальная дата больше, то двигаем конечную дату\r\n                        $scope.data.endDate = pipDates.toStartDay(new Date(start.getTime() + (30 * 60000)));\r\n                        $scope.data.endTime = ($scope.data.startTime + 30) % 1440;\r\n                    }\r\n                }\r\n            };\r\n\r\n            function validateEndDate() {\r\n                // если начальная дата не задана, обнуляем и выходим\r\n                if (!$scope.data.endDate) {\r\n                    $scope.data.endTime = null;\r\n                    return;\r\n                }\r\n                // еcли не задано конечное время - задаем его\r\n                if (!$scope.data.endTime) {\r\n                    if (!$scope.data.startTime) {\r\n                        var date = new Date();\r\n                        $scope.data.endTime = Math.floor((date.getTime() -  pipDates.toStartDay(date)) / (30 * 60 * 1000)) * 30;\r\n                    } else {\r\n                        $scope.data.endTime = $scope.data.startTime == 1410 ? 1410 : $scope.data.startTime + 30;\r\n                    }\r\n                }\r\n\r\n                // если yачальная дата не задана, обнуляем и выходим\r\n                if (!$scope.data.startDate) {\r\n                    $scope.data.startTime = null;\r\n                    return;\r\n                }\r\n\r\n                var start, end;\r\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\r\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\r\n                if (start >= end) {\r\n                    // Если начальная дата больше, то двигаем начальную дату\r\n                    $scope.data.startDate = pipDates.toStartDay(new Date(end.getTime() - 30 * 60000));\r\n                    $scope.data.startTime = ($scope.data.endTime % 1440 == 0) ? 1410 : $scope.data.endTime - 30;\r\n                }\r\n\r\n                $scope.data.duration = setDuration();\r\n            };\r\n\r\n            function setDate() {\r\n                $scope.data.bind = false;\r\n                if($scope.data.startDate) {\r\n                    var time = $scope.data.startTime ? $scope.data.startTime * 60 * 1000 : 0;\r\n                    $scope.pipStartDate = new Date($scope.data.startDate.getTime() + time);\r\n                }\r\n                if($scope.data.endDate) {\r\n                    var time = $scope.data.endTime ? $scope.data.endTime * 60 * 1000 : 0;\r\n                    $scope.pipEndDate = new Date($scope.data.endDate.getTime() + time);\r\n                }\r\n                $scope.data.bind = true;\r\n            };\r\n\r\n            function defineDate() {\r\n                var start, end;\r\n                if (($scope.pipStartDate !== null) && ($scope.pipStartDate !== undefined)) {\r\n                    var start = _.isDate($scope.pipStartDate) ?  $scope.pipStartDate : null;\r\n                    if (!start) {\r\n                        start = getDateJSON($scope.pipStartDate);\r\n                    }\r\n                    $scope.data.startDate = pipDates.toStartDay(start);\r\n                    $scope.data.startTime = (new Date(start) - $scope.data.startDate) / (60 * 1000);\r\n                }\r\n\r\n                if (($scope.pipEndDate !== null) && ($scope.pipEndDate !== undefined)) {\r\n                    var end = _.isDate($scope.pipEndDate) ?  $scope.pipEndDate : null;\r\n                    if (!start) {\r\n                        end = getDateJSON($scope.pipEndDate);\r\n                    }\r\n                    $scope.data.endDate = pipDates.toStartDay(end);\r\n                    $scope.data.endTime = (new Date(end) - $scope.data.endDate) / (60 * 1000);\r\n                }\r\n                validateStartDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n            };\r\n\r\n            function getTimeInterval() {\r\n                var result = [];\r\n\r\n                for (var i = 0; i < 24; i++) {\r\n                    for (var j = 0; j < 2; j++) {\r\n                        var minutes = j * 30;\r\n                        result.push({\r\n                            id: (i * 60 + minutes),\r\n                            time: _.pad(i.toString(),3,'0').substr(0, 2) + ':' + _.pad(minutes.toString(),2,'0')\r\n                        });\r\n                    }\r\n                }\r\n\r\n                return result;\r\n            };\r\n\r\n            function initDate() {\r\n                $scope.data.startDate = null;\r\n                $scope.data.startTime = null;\r\n                $scope.data.endDate = null;\r\n                $scope.data.endTime = null;\r\n                $scope.data.duration = null;\r\n            };\r\n\r\n            // initialize data\r\n            $scope.intervalTimeCollection = getTimeInterval();\r\n            $scope.data = {};\r\n            $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel) : pipTranslate.translate('EVENT_NEW_START_TIME');\r\n            $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel) : pipTranslate.translate('EVENT_NEW_END_TIME');\r\n            initDate();\r\n            defineDate();\r\n\r\n            // process function\r\n            $scope.onChangeStartDate = function () {\r\n                validateStartDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.onChangeEndDate = function () {\r\n                validateEndDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.onChangeStartTime = function () {\r\n                if (!$scope.data.startDate)\r\n                    $scope.data.startDate = pipDates.toStartDay(new Date());\r\n                validateStartDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.onChangeEndTime = function () {\r\n                if (!$scope.data.endDate)\r\n                    $scope.data.endDate = pipDates.toStartDay(new Date());\r\n                validateEndDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.isDisabled = function () {\r\n                if ($scope.disabled){\r\n                    return $scope.disabled();\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            $scope.$watchGroup([$scope.pipStartDate, $scope.pipEndDate], function() {\r\n                if ($scope.data.bind) {\r\n                    initDate();\r\n                    defineDate();\r\n                }\r\n            });\r\n\r\n            $scope.$watch($scope.disabled, function(newValue) {\r\n                $scope.disableControls = newValue;\r\n            });\r\n\r\n            // Add class\r\n            $element.addClass('pip-time-edit');\r\n        }]\r\n    );\r\n\r\n})();","/**\r\n * @file Toasts management service\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo Replace ngAudio with alternative service\r\n */\r\n \r\n /* global _, angular */\r\n \r\n(function () {\r\n    'use strict';\r\n    \r\n    var thisModule = angular.module('pipToasts', ['pipTranslate', 'ngMaterial', 'pipAssert']);\r\n\r\n    thisModule.controller('pipToastController',\r\n        ['$scope', '$mdToast', 'toast', 'pipErrorDetailsDialog', 'sounds', function ($scope, $mdToast, toast, pipErrorDetailsDialog, sounds) {\r\n            // if (toast.type && sounds['toast_' + toast.type]) {\r\n            //     sounds['toast_' + toast.type].play();\r\n            // }\r\n\r\n            $scope.message = toast.message;\r\n            $scope.actions = toast.actions;\r\n            $scope.toast = toast;\r\n            if(toast.actions.length == 0 ){\r\n                $scope.actionLenght = 0;\r\n            } else{\r\n                if(toast.actions.length == 1 ){\r\n                    $scope.actionLenght = toast.actions[0].toString().length;\r\n                } else {\r\n                    $scope.actionLenght = null;\r\n                }\r\n\r\n            }\r\n            console.log($scope.actionLenght);\r\n\r\n            $scope.onDetails =  function(event) {\r\n                $mdToast.hide();\r\n                pipErrorDetailsDialog.show(\r\n                    {\r\n                        error: $scope.toast.error,\r\n                        ok: 'Ok'\r\n                    },\r\n                    function () {\r\n                        console.log('You agreed');\r\n                    },\r\n                    function () {\r\n                        console.log('You disagreed');\r\n                    }\r\n                );\r\n            };\r\n\r\n            $scope.onAction = function (action) {\r\n                $mdToast.hide({ action: action });\r\n            };\r\n        }]\r\n    );\r\n\r\n    thisModule.service('pipToasts', \r\n        ['$rootScope', '$mdToast', 'pipAssert', function ($rootScope, $mdToast, pipAssert) {\r\n            var \r\n                SHOW_TIMEOUT = 20000,\r\n                SHOW_TIMEOUT_NOTIFICATIONS = 20000,\r\n                toasts = [], \r\n                currentToast,\r\n                sounds = {};\r\n\r\n            /** pre-load sounds for notifications */\r\n            // sounds['toast_error'] = ngAudio.load('sounds/fatal.mp3');\r\n            // sounds['toast_notification'] = ngAudio.load('sounds/error.mp3');\r\n            // sounds['toast_message'] = ngAudio.load('sounds/warning.mp3');\r\n\r\n            // Remove error toasts when page is changed\r\n            $rootScope.$on('$stateChangeSuccess', onStateChangeSuccess);\r\n            $rootScope.$on('pipSessionClosed', onClearToasts);\r\n\r\n            return {\r\n                showNotification: showNotification,\r\n                showMessage: showMessage,\r\n                showError: showError,\r\n                hideAllToasts: hideAllToasts,\r\n                clearToasts: clearToasts,\r\n                removeToastsById: removeToastsById,\r\n                getToastById: getToastById\r\n            };\r\n\r\n            //---------------------------\r\n\r\n            // Take the next from queue and show it\r\n            function showNextToast() {\r\n                if (toasts.length > 0) {\r\n                    var toast = toasts[0];\r\n                    toasts.splice(0, 1);\r\n                    showToast(toast);\r\n                }\r\n            }\r\n    \r\n            // Show toast\r\n            function showToast(toast) {\r\n                currentToast = toast;\r\n    \r\n                $mdToast.show({\r\n                    templateUrl: 'toast/toast.html',\r\n                    hideDelay: toast.duration || SHOW_TIMEOUT,\r\n                    position: 'bottom left',\r\n                    controller: 'pipToastController',\r\n                    locals: {\r\n                        toast: currentToast,\r\n                        sounds: sounds\r\n                    }\r\n                })\r\n                .then(\r\n                    function showToastOkResult(action) {\r\n                        if (currentToast.successCallback) {\r\n                            currentToast.successCallback(action);\r\n                        }\r\n                        currentToast = null;\r\n                        showNextToast();\r\n                    }, \r\n                    function showToastCancelResult(action) {\r\n                        if (currentToast.cancelCallback) {\r\n                            currentToast.cancelCallback(action);\r\n                        }\r\n                        currentToast = null;\r\n                        showNextToast();\r\n                    }\r\n                );\r\n            }\r\n    \r\n            function addToast(toast) {\r\n\r\n                if (currentToast && toast.type !='error')\r\n                    toasts.push(toast);\r\n                else showToast(toast);\r\n            }\r\n    \r\n            function removeToasts(type) {\r\n                var result = [];\r\n                _.each(toasts, function (toast) {\r\n                    if (!toast.type || toast.type != type)\r\n                        result.push(toast);\r\n                });\r\n                toasts = _.cloneDeep(result);\r\n            }\r\n\r\n            function removeToastsById(id) {\r\n                _.remove(toasts, {id: id});\r\n            }\r\n\r\n            function getToastById(id) {\r\n                return _.find(toasts, {id: id});\r\n            }\r\n    \r\n            function onStateChangeSuccess(event, toState, toParams, fromState, fromParams) {\r\n                toasts = _.reject(toasts, function(toast) {\r\n                    return toast.type == 'error'; \r\n                });\r\n\r\n                if (currentToast && currentToast.type == 'error') {\r\n                    $mdToast.cancel();\r\n                    showNextToast();\r\n                }\r\n            }\r\n\r\n            function onClearToasts(event) {\r\n                clearToasts();\r\n            }\r\n    \r\n            // Show new notification toast at the top right\r\n            function showNotification(message, actions, successCallback, cancelCallback, id) {\r\n                pipAssert.isDef(message, 'pipToasts.showNotification: message should be defined');\r\n                pipAssert.isString(message, 'pipToasts.showNotification: message should be a string');\r\n                pipAssert.isArray(actions || [], 'pipToasts.showNotification: actions should be an array');\r\n                if (successCallback) pipAssert.isFunction(successCallback, 'pipToasts.showNotification: successCallback should be a function');\r\n                if (cancelCallback) pipAssert.isFunction(cancelCallback, 'pipToasts.showNotification: cancelCallback should be a function');\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    type: 'notification',\r\n                    message: message,\r\n                    actions: actions || ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback,\r\n                    duration: SHOW_TIMEOUT_NOTIFICATIONS\r\n                });\r\n            }\r\n\r\n            // Show new message toast at the top right\r\n            function showMessage(message, successCallback, cancelCallback, id) {\r\n                pipAssert.isDef(message, 'pipToasts.showMessage: message should be defined');\r\n                pipAssert.isString(message, 'pipToasts.showMessage: message should be a string');\r\n                if (successCallback) pipAssert.isFunction(successCallback, 'pipToasts.showMessage: successCallback should be a function');\r\n                if (cancelCallback) pipAssert.isFunction(cancelCallback, 'pipToasts.showMessage: cancelCallback should be a function');\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    type: 'message',\r\n                    message: message,\r\n                    actions: ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback\r\n                });\r\n            }\r\n\r\n            // Show error toast at the bottom right after error occured\r\n            function showError(message, successCallback, cancelCallback, id, error) {\r\n                pipAssert.isDef(message, 'pipToasts.showError: message should be defined');\r\n                pipAssert.isString(message, 'pipToasts.showError: message should be a string');\r\n                if (successCallback) pipAssert.isFunction(successCallback, 'pipToasts.showError: successCallback should be a function');\r\n                if (cancelCallback) pipAssert.isFunction(cancelCallback, 'pipToasts.showError: cancelCallback should be a function');\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    error: error,\r\n                    type: 'error',\r\n                    message: message,\r\n                    actions: ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback\r\n                });\r\n            }\r\n\r\n            // Hide and clear all toast when user signs out\r\n            function hideAllToasts() {\r\n                $mdToast.cancel();\r\n                toasts = [];\r\n            }\r\n\r\n            // Clear toasts by type\r\n            function clearToasts(type) {\r\n                if (type) {\r\n                    pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\r\n\r\n                    removeToasts(type);\r\n                } else {\r\n                    $mdToast.cancel();\r\n                    toasts = [];\r\n                }\r\n            }\r\n        }]\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Toggle buttons control\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global _, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipToggleButtons\", ['pipBasicControls.Templates']);\r\n\r\n    thisModule.directive('pipToggleButtons',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    buttons: '=pipButtons',\r\n                    currentButtonValue: '=ngModel',\r\n                    currentButton: '=?pipButtonObject',\r\n                    change: '&ngChange'\r\n                },\r\n                templateUrl: 'toggle_buttons/toggle_buttons.html',\r\n                controller: \r\n                    ['$scope', '$element', '$attrs', '$mdMedia', '$timeout', function ($scope, $element, $attrs, $mdMedia, $timeout) {\r\n                        $scope.$mdMedia = $mdMedia;\r\n                        $scope.class = $attrs.class || '';\r\n\r\n                        if (!$scope.buttons || (_.isArray($scope.buttons) && $scope.buttons.length === 0)) {\r\n                            $scope.buttons = [];\r\n                            console.error('PipToggleButtons: attribute pipButtons should take array of buttons');\r\n                        }\r\n\r\n                        var index = _.indexOf($scope.buttons, _.find($scope.buttons, {id: $scope.currentButtonValue}));\r\n                        $scope.currentButtonIndex = index < 0 ? 0 : index;\r\n                        $scope.currentButton = $scope.buttons.length > 0 ? $scope.buttons[$scope.currentButtonIndex] : $scope.currentButton;\r\n\r\n                        $scope.buttonSelected = function (index, $event) {\r\n                            if ($scope.disabled()) return;\r\n\r\n                            $scope.currentButtonIndex = index;\r\n                            $scope.currentButton = $scope.buttons[$scope.currentButtonIndex];\r\n                            $scope.currentButtonValue = $scope.currentButton.id || index;\r\n\r\n                            $timeout(function() {\r\n                                $scope.$apply();\r\n\r\n                                if ($scope.change) {\r\n                                    $scope.change();\r\n                                }\r\n                            });\r\n                        };\r\n\r\n                        $scope.enterSpacePress = function (event) {\r\n                            $scope.buttonSelected(event.index);\r\n                        };\r\n\r\n                        $scope.disabled = function () {\r\n                            if ($scope.ngDisabled) {\r\n                                return $scope.ngDisabled();\r\n                            }\r\n                        };\r\n                    }],\r\n                link:\r\n                    function (scope, elem, attr) {\r\n                        elem\r\n                            .on('focusin', function () {\r\n                                elem.addClass('focused-container');\r\n                            })\r\n                            .on('focusout', function () {\r\n                                elem.removeClass('focused-container')\r\n                            })\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();"],"sourceRoot":"/source/"}